var Ks=Object.defineProperty;var qs=(t,e,n)=>e in t?Ks(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var H=(t,e,n)=>(qs(t,typeof e!="symbol"?e+"":e,n),n);import{v as ue,x as Ws,u as $e,c as j,y as ln,z as Xs,d as Er,A as yr,B as Dt,r as Ys,q as fn,C as Zs,D as Qs}from"./runtime-dom.esm-bundler-9284044f.js";function Js(){return _r().__VUE_DEVTOOLS_GLOBAL_HOOK__}function _r(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const eo=typeof Proxy=="function",to="devtools-plugin:setup",no="plugin:settings:set";let me,Xt;function ro(){var t;return me!==void 0||(typeof window<"u"&&window.performance?(me=!0,Xt=window.performance):typeof global<"u"&&(!((t=global.perf_hooks)===null||t===void 0)&&t.performance)?(me=!0,Xt=global.perf_hooks.performance):me=!1),me}function so(){return ro()?Xt.now():Date.now()}class oo{constructor(e,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=n;const r={};if(e.settings)for(const i in e.settings){const c=e.settings[i];r[i]=c.defaultValue}const s=`__vue-devtools-plugin-settings__${e.id}`;let o=Object.assign({},r);try{const i=localStorage.getItem(s),c=JSON.parse(i);Object.assign(o,c)}catch{}this.fallbacks={getSettings(){return o},setSettings(i){try{localStorage.setItem(s,JSON.stringify(i))}catch{}o=i},now(){return so()}},n&&n.on(no,(i,c)=>{i===this.plugin.id&&this.fallbacks.setSettings(c)}),this.proxiedOn=new Proxy({},{get:(i,c)=>this.target?this.target.on[c]:(...a)=>{this.onQueue.push({method:c,args:a})}}),this.proxiedTarget=new Proxy({},{get:(i,c)=>this.target?this.target[c]:c==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(c)?(...a)=>(this.targetQueue.push({method:c,args:a,resolve:()=>{}}),this.fallbacks[c](...a)):(...a)=>new Promise(l=>{this.targetQueue.push({method:c,args:a,resolve:l})})})}async setRealTarget(e){this.target=e;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function io(t,e){const n=t,r=_r(),s=Js(),o=eo&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!o))s.emit(to,t,e);else{const i=o?new oo(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:e,proxy:i}),i&&e(i.proxiedTarget)}}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Se=typeof window<"u";function ao(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const R=Object.assign;function xt(t,e){const n={};for(const r in e){const s=e[r];n[r]=K(s)?s.map(t):t(s)}return n}const Be=()=>{},K=Array.isArray,co=/\/$/,uo=t=>t.replace(co,"");function kt(t,e,n="/"){let r,s={},o="",i="";const c=e.indexOf("#");let a=e.indexOf("?");return c<a&&c>=0&&(a=-1),a>-1&&(r=e.slice(0,a),o=e.slice(a+1,c>-1?c:e.length),s=t(o)),c>-1&&(r=r||e.slice(0,c),i=e.slice(c,e.length)),r=po(r??e,n),{fullPath:r+(o&&"?")+o+i,path:r,query:s,hash:i}}function lo(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Dn(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function fo(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Oe(e.matched[r],n.matched[s])&&Sr(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Oe(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Sr(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!ho(t[n],e[n]))return!1;return!0}function ho(t,e){return K(t)?xn(t,e):K(e)?xn(e,t):t===e}function xn(t,e){return K(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function po(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let s=n.length-1,o,i;for(o=0;o<r.length;o++)if(i=r[o],i!==".")if(i==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var ze;(function(t){t.pop="pop",t.push="push"})(ze||(ze={}));var Ge;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ge||(Ge={}));function mo(t){if(!t)if(Se){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),uo(t)}const go=/^[^#]+#/;function vo(t,e){return t.replace(go,"#")+e}function Eo(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const bt=()=>({left:window.pageXOffset,top:window.pageYOffset});function yo(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=Eo(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function kn(t,e){return(history.state?history.state.position-e:-1)+t}const Yt=new Map;function _o(t,e){Yt.set(t,e)}function So(t){const e=Yt.get(t);return Yt.delete(t),e}let bo=()=>location.protocol+"//"+location.host;function br(t,e){const{pathname:n,search:r,hash:s}=e,o=t.indexOf("#");if(o>-1){let c=s.includes(t.slice(o))?t.slice(o).length:1,a=s.slice(c);return a[0]!=="/"&&(a="/"+a),Dn(a,"")}return Dn(n,t)+r+s}function To(t,e,n,r){let s=[],o=[],i=null;const c=({state:d})=>{const h=br(t,location),v=n.value,_=e.value;let S=0;if(d){if(n.value=h,e.value=d,i&&i===v){i=null;return}S=_?d.position-_.position:0}else r(h);s.forEach(b=>{b(n.value,v,{delta:S,type:ze.pop,direction:S?S>0?Ge.forward:Ge.back:Ge.unknown})})};function a(){i=n.value}function l(d){s.push(d);const h=()=>{const v=s.indexOf(d);v>-1&&s.splice(v,1)};return o.push(h),h}function u(){const{history:d}=window;d.state&&d.replaceState(R({},d.state,{scroll:bt()}),"")}function f(){for(const d of o)d();o=[],window.removeEventListener("popstate",c),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",c),window.addEventListener("beforeunload",u),{pauseListeners:a,listen:l,destroy:f}}function Un(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?bt():null}}function Io(t){const{history:e,location:n}=window,r={value:br(t,n)},s={value:e.state};s.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(a,l,u){const f=t.indexOf("#"),d=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+a:bo()+t+a;try{e[u?"replaceState":"pushState"](l,"",d),s.value=l}catch(h){console.error(h),n[u?"replace":"assign"](d)}}function i(a,l){const u=R({},e.state,Un(s.value.back,a,s.value.forward,!0),l,{position:s.value.position});o(a,u,!0),r.value=a}function c(a,l){const u=R({},s.value,e.state,{forward:a,scroll:bt()});o(u.current,u,!0);const f=R({},Un(r.value,a,null),{position:u.position+1},l);o(a,f,!1),r.value=a}return{location:r,state:s,push:c,replace:i}}function Oo(t){t=mo(t);const e=Io(t),n=To(t,e.state,e.location,e.replace);function r(o,i=!0){i||n.pauseListeners(),history.go(o)}const s=R({location:"",base:t,go:r,createHref:vo.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function Ro(t){return typeof t=="string"||t&&typeof t=="object"}function Tr(t){return typeof t=="string"||typeof t=="symbol"}const te={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Ir=Symbol("");var $n;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})($n||($n={}));function Re(t,e){return R(new Error,{type:t,[Ir]:!0},e)}function Q(t,e){return t instanceof Error&&Ir in t&&(e==null||!!(t.type&e))}const Bn="[^/]+?",Co={sensitive:!1,strict:!1,start:!0,end:!0},wo=/[.+*?^${}()[\]/\\]/g;function Ao(t,e){const n=R({},Co,e),r=[];let s=n.start?"^":"";const o=[];for(const l of t){const u=l.length?[]:[90];n.strict&&!l.length&&(s+="/");for(let f=0;f<l.length;f++){const d=l[f];let h=40+(n.sensitive?.25:0);if(d.type===0)f||(s+="/"),s+=d.value.replace(wo,"\\$&"),h+=40;else if(d.type===1){const{value:v,repeatable:_,optional:S,regexp:b}=d;o.push({name:v,repeatable:_,optional:S});const m=b||Bn;if(m!==Bn){h+=10;try{new RegExp(`(${m})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${v}" (${m}): `+P.message)}}let A=_?`((?:${m})(?:/(?:${m}))*)`:`(${m})`;f||(A=S&&l.length<2?`(?:/${A})`:"/"+A),S&&(A+="?"),s+=A,h+=20,S&&(h+=-8),_&&(h+=-20),m===".*"&&(h+=-50)}u.push(h)}r.push(u)}if(n.strict&&n.end){const l=r.length-1;r[l][r[l].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const i=new RegExp(s,n.sensitive?"":"i");function c(l){const u=l.match(i),f={};if(!u)return null;for(let d=1;d<u.length;d++){const h=u[d]||"",v=o[d-1];f[v.name]=h&&v.repeatable?h.split("/"):h}return f}function a(l){let u="",f=!1;for(const d of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const h of d)if(h.type===0)u+=h.value;else if(h.type===1){const{value:v,repeatable:_,optional:S}=h,b=v in l?l[v]:"";if(K(b)&&!_)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const m=K(b)?b.join("/"):b;if(!m)if(S)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);u+=m}}return u||"/"}return{re:i,score:r,keys:o,parse:c,stringify:a}}function Lo(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function No(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const o=Lo(r[n],s[n]);if(o)return o;n++}if(Math.abs(s.length-r.length)===1){if(Gn(r))return 1;if(Gn(s))return-1}return s.length-r.length}function Gn(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Po={type:0,value:""},Mo=/[a-zA-Z0-9_]/;function Do(t){if(!t)return[[]];if(t==="/")return[[Po]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(h){throw new Error(`ERR (${n})/"${l}": ${h}`)}let n=0,r=n;const s=[];let o;function i(){o&&s.push(o),o=[]}let c=0,a,l="",u="";function f(){l&&(n===0?o.push({type:0,value:l}):n===1||n===2||n===3?(o.length>1&&(a==="*"||a==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:l,regexp:u,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):e("Invalid state to consume buffer"),l="")}function d(){l+=a}for(;c<t.length;){if(a=t[c++],a==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:a==="/"?(l&&f(),i()):a===":"?(f(),n=1):d();break;case 4:d(),n=r;break;case 1:a==="("?n=2:Mo.test(a)?d():(f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&c--);break;case 2:a===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:f(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&c--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),f(),i(),s}function xo(t,e,n){const r=Ao(Do(t.path),n),s=R(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function ko(t,e){const n=[],r=new Map;e=Hn({strict:!1,end:!0,sensitive:!1},e);function s(u){return r.get(u)}function o(u,f,d){const h=!d,v=Uo(u);v.aliasOf=d&&d.record;const _=Hn(e,u),S=[v];if("alias"in u){const A=typeof u.alias=="string"?[u.alias]:u.alias;for(const P of A)S.push(R({},v,{components:d?d.record.components:v.components,path:P,aliasOf:d?d.record:v}))}let b,m;for(const A of S){const{path:P}=A;if(f&&P[0]!=="/"){const k=f.record.path,$=k[k.length-1]==="/"?"":"/";A.path=f.record.path+(P&&$+P)}if(b=xo(A,f,_),d?d.alias.push(b):(m=m||b,m!==b&&m.alias.push(b),h&&u.name&&!Vn(b)&&i(u.name)),v.children){const k=v.children;for(let $=0;$<k.length;$++)o(k[$],b,d&&d.children[$])}d=d||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&a(b)}return m?()=>{i(m)}:Be}function i(u){if(Tr(u)){const f=r.get(u);f&&(r.delete(u),n.splice(n.indexOf(f),1),f.children.forEach(i),f.alias.forEach(i))}else{const f=n.indexOf(u);f>-1&&(n.splice(f,1),u.record.name&&r.delete(u.record.name),u.children.forEach(i),u.alias.forEach(i))}}function c(){return n}function a(u){let f=0;for(;f<n.length&&No(u,n[f])>=0&&(u.record.path!==n[f].record.path||!Or(u,n[f]));)f++;n.splice(f,0,u),u.record.name&&!Vn(u)&&r.set(u.record.name,u)}function l(u,f){let d,h={},v,_;if("name"in u&&u.name){if(d=r.get(u.name),!d)throw Re(1,{location:u});_=d.record.name,h=R(Fn(f.params,d.keys.filter(m=>!m.optional).map(m=>m.name)),u.params&&Fn(u.params,d.keys.map(m=>m.name))),v=d.stringify(h)}else if("path"in u)v=u.path,d=n.find(m=>m.re.test(v)),d&&(h=d.parse(v),_=d.record.name);else{if(d=f.name?r.get(f.name):n.find(m=>m.re.test(f.path)),!d)throw Re(1,{location:u,currentLocation:f});_=d.record.name,h=R({},f.params,u.params),v=d.stringify(h)}const S=[];let b=d;for(;b;)S.unshift(b.record),b=b.parent;return{name:_,path:v,params:h,matched:S,meta:Bo(S)}}return t.forEach(u=>o(u)),{addRoute:o,resolve:l,removeRoute:i,getRoutes:c,getRecordMatcher:s}}function Fn(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Uo(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:$o(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function $o(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function Vn(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Bo(t){return t.reduce((e,n)=>R(e,n.meta),{})}function Hn(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Or(t,e){return e.children.some(n=>n===t||Or(t,n))}const Rr=/#/g,Go=/&/g,Fo=/\//g,Vo=/=/g,Ho=/\?/g,Cr=/\+/g,jo=/%5B/g,zo=/%5D/g,wr=/%5E/g,Ko=/%60/g,Ar=/%7B/g,qo=/%7C/g,Lr=/%7D/g,Wo=/%20/g;function dn(t){return encodeURI(""+t).replace(qo,"|").replace(jo,"[").replace(zo,"]")}function Xo(t){return dn(t).replace(Ar,"{").replace(Lr,"}").replace(wr,"^")}function Zt(t){return dn(t).replace(Cr,"%2B").replace(Wo,"+").replace(Rr,"%23").replace(Go,"%26").replace(Ko,"`").replace(Ar,"{").replace(Lr,"}").replace(wr,"^")}function Yo(t){return Zt(t).replace(Vo,"%3D")}function Zo(t){return dn(t).replace(Rr,"%23").replace(Ho,"%3F")}function Qo(t){return t==null?"":Zo(t).replace(Fo,"%2F")}function pt(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Jo(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const o=r[s].replace(Cr," "),i=o.indexOf("="),c=pt(i<0?o:o.slice(0,i)),a=i<0?null:pt(o.slice(i+1));if(c in e){let l=e[c];K(l)||(l=e[c]=[l]),l.push(a)}else e[c]=a}return e}function jn(t){let e="";for(let n in t){const r=t[n];if(n=Yo(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(K(r)?r.map(o=>o&&Zt(o)):[r&&Zt(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function ei(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=K(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const ti=Symbol(""),zn=Symbol(""),Tt=Symbol(""),hn=Symbol(""),Qt=Symbol("");function De(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function ne(t,e,n,r,s){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((i,c)=>{const a=f=>{f===!1?c(Re(4,{from:n,to:e})):f instanceof Error?c(f):Ro(f)?c(Re(2,{from:e,to:f})):(o&&r.enterCallbacks[s]===o&&typeof f=="function"&&o.push(f),i())},l=t.call(r&&r.instances[s],e,n,a);let u=Promise.resolve(l);t.length<3&&(u=u.then(a)),u.catch(f=>c(f))})}function Ut(t,e,n,r){const s=[];for(const o of t)for(const i in o.components){let c=o.components[i];if(!(e!=="beforeRouteEnter"&&!o.instances[i]))if(ni(c)){const l=(c.__vccOpts||c)[e];l&&s.push(ne(l,n,r,o,i))}else{let a=c();s.push(()=>a.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${i}" at "${o.path}"`));const u=ao(l)?l.default:l;o.components[i]=u;const d=(u.__vccOpts||u)[e];return d&&ne(d,n,r,o,i)()}))}}return s}function ni(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Kn(t){const e=ue(Tt),n=ue(hn),r=j(()=>e.resolve($e(t.to))),s=j(()=>{const{matched:a}=r.value,{length:l}=a,u=a[l-1],f=n.matched;if(!u||!f.length)return-1;const d=f.findIndex(Oe.bind(null,u));if(d>-1)return d;const h=qn(a[l-2]);return l>1&&qn(u)===h&&f[f.length-1].path!==h?f.findIndex(Oe.bind(null,a[l-2])):d}),o=j(()=>s.value>-1&&ii(n.params,r.value.params)),i=j(()=>s.value>-1&&s.value===n.matched.length-1&&Sr(n.params,r.value.params));function c(a={}){return oi(a)?e[$e(t.replace)?"replace":"push"]($e(t.to)).catch(Be):Promise.resolve()}return{route:r,href:j(()=>r.value.href),isActive:o,isExactActive:i,navigate:c}}const ri=Er({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Kn,setup(t,{slots:e}){const n=ln(Kn(t)),{options:r}=ue(Tt),s=j(()=>({[Wn(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Wn(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:yr("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},o)}}}),si=ri;function oi(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function ii(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!K(s)||s.length!==r.length||r.some((o,i)=>o!==s[i]))return!1}return!0}function qn(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Wn=(t,e,n)=>t??e??n,ai=Er({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=ue(Qt),s=j(()=>t.route||r.value),o=ue(zn,0),i=j(()=>{let l=$e(o);const{matched:u}=s.value;let f;for(;(f=u[l])&&!f.components;)l++;return l}),c=j(()=>s.value.matched[i.value]);Dt(zn,j(()=>i.value+1)),Dt(ti,c),Dt(Qt,s);const a=Ys();return fn(()=>[a.value,c.value,t.name],([l,u,f],[d,h,v])=>{u&&(u.instances[f]=l,h&&h!==u&&l&&l===d&&(u.leaveGuards.size||(u.leaveGuards=h.leaveGuards),u.updateGuards.size||(u.updateGuards=h.updateGuards))),l&&u&&(!h||!Oe(u,h)||!d)&&(u.enterCallbacks[f]||[]).forEach(_=>_(l))},{flush:"post"}),()=>{const l=s.value,u=t.name,f=c.value,d=f&&f.components[u];if(!d)return Xn(n.default,{Component:d,route:l});const h=f.props[u],v=h?h===!0?l.params:typeof h=="function"?h(l):h:null,S=yr(d,R({},v,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(f.instances[u]=null)},ref:a}));return Xn(n.default,{Component:S,route:l})||S}}});function Xn(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const ci=ai;function ui(t){const e=ko(t.routes,t),n=t.parseQuery||Jo,r=t.stringifyQuery||jn,s=t.history,o=De(),i=De(),c=De(),a=Ws(te);let l=te;Se&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=xt.bind(null,p=>""+p),f=xt.bind(null,Qo),d=xt.bind(null,pt);function h(p,E){let g,y;return Tr(p)?(g=e.getRecordMatcher(p),y=E):y=p,e.addRoute(y,g)}function v(p){const E=e.getRecordMatcher(p);E&&e.removeRoute(E)}function _(){return e.getRoutes().map(p=>p.record)}function S(p){return!!e.getRecordMatcher(p)}function b(p,E){if(E=R({},E||a.value),typeof p=="string"){const T=kt(n,p,E.path),D=e.resolve({path:T.path},E),Me=s.createHref(T.fullPath);return R(T,D,{params:d(D.params),hash:pt(T.hash),redirectedFrom:void 0,href:Me})}let g;if("path"in p)g=R({},p,{path:kt(n,p.path,E.path).path});else{const T=R({},p.params);for(const D in T)T[D]==null&&delete T[D];g=R({},p,{params:f(p.params)}),E.params=f(E.params)}const y=e.resolve(g,E),w=p.hash||"";y.params=u(d(y.params));const M=lo(r,R({},p,{hash:Xo(w),path:y.path})),O=s.createHref(M);return R({fullPath:M,hash:w,query:r===jn?ei(p.query):p.query||{}},y,{redirectedFrom:void 0,href:O})}function m(p){return typeof p=="string"?kt(n,p,a.value.path):R({},p)}function A(p,E){if(l!==p)return Re(8,{from:E,to:p})}function P(p){return Ne(p)}function k(p){return P(R(m(p),{replace:!0}))}function $(p){const E=p.matched[p.matched.length-1];if(E&&E.redirect){const{redirect:g}=E;let y=typeof g=="function"?g(p):g;return typeof y=="string"&&(y=y.includes("?")||y.includes("#")?y=m(y):{path:y},y.params={}),R({query:p.query,hash:p.hash,params:"path"in y?{}:p.params},y)}}function Ne(p,E){const g=l=b(p),y=a.value,w=p.state,M=p.force,O=p.replace===!0,T=$(g);if(T)return Ne(R(m(T),{state:typeof T=="object"?R({},w,T.state):w,force:M,replace:O}),E||g);const D=g;D.redirectedFrom=E;let Me;return!M&&fo(r,y,g)&&(Me=Re(16,{to:D,from:y}),Pn(y,y,!0,!1)),(Me?Promise.resolve(Me):wn(D,y)).catch(B=>Q(B)?Q(B,2)?B:Lt(B):At(B,D,y)).then(B=>{if(B){if(Q(B,2))return Ne(R({replace:O},m(B.to),{state:typeof B.to=="object"?R({},w,B.to.state):w,force:M}),E||D)}else B=Ln(D,y,!0,O,w);return An(D,y,B),B})}function Hs(p,E){const g=A(p,E);return g?Promise.reject(g):Promise.resolve()}function wn(p,E){let g;const[y,w,M]=li(p,E);g=Ut(y.reverse(),"beforeRouteLeave",p,E);for(const T of y)T.leaveGuards.forEach(D=>{g.push(ne(D,p,E))});const O=Hs.bind(null,p,E);return g.push(O),ge(g).then(()=>{g=[];for(const T of o.list())g.push(ne(T,p,E));return g.push(O),ge(g)}).then(()=>{g=Ut(w,"beforeRouteUpdate",p,E);for(const T of w)T.updateGuards.forEach(D=>{g.push(ne(D,p,E))});return g.push(O),ge(g)}).then(()=>{g=[];for(const T of p.matched)if(T.beforeEnter&&!E.matched.includes(T))if(K(T.beforeEnter))for(const D of T.beforeEnter)g.push(ne(D,p,E));else g.push(ne(T.beforeEnter,p,E));return g.push(O),ge(g)}).then(()=>(p.matched.forEach(T=>T.enterCallbacks={}),g=Ut(M,"beforeRouteEnter",p,E),g.push(O),ge(g))).then(()=>{g=[];for(const T of i.list())g.push(ne(T,p,E));return g.push(O),ge(g)}).catch(T=>Q(T,8)?T:Promise.reject(T))}function An(p,E,g){for(const y of c.list())y(p,E,g)}function Ln(p,E,g,y,w){const M=A(p,E);if(M)return M;const O=E===te,T=Se?history.state:{};g&&(y||O?s.replace(p.fullPath,R({scroll:O&&T&&T.scroll},w)):s.push(p.fullPath,w)),a.value=p,Pn(p,E,g,O),Lt()}let Pe;function js(){Pe||(Pe=s.listen((p,E,g)=>{if(!Mn.listening)return;const y=b(p),w=$(y);if(w){Ne(R(w,{replace:!0}),y).catch(Be);return}l=y;const M=a.value;Se&&_o(kn(M.fullPath,g.delta),bt()),wn(y,M).catch(O=>Q(O,12)?O:Q(O,2)?(Ne(O.to,y).then(T=>{Q(T,20)&&!g.delta&&g.type===ze.pop&&s.go(-1,!1)}).catch(Be),Promise.reject()):(g.delta&&s.go(-g.delta,!1),At(O,y,M))).then(O=>{O=O||Ln(y,M,!1),O&&(g.delta&&!Q(O,8)?s.go(-g.delta,!1):g.type===ze.pop&&Q(O,20)&&s.go(-1,!1)),An(y,M,O)}).catch(Be)}))}let wt=De(),Nn=De(),nt;function At(p,E,g){Lt(p);const y=Nn.list();return y.length?y.forEach(w=>w(p,E,g)):console.error(p),Promise.reject(p)}function zs(){return nt&&a.value!==te?Promise.resolve():new Promise((p,E)=>{wt.add([p,E])})}function Lt(p){return nt||(nt=!p,js(),wt.list().forEach(([E,g])=>p?g(p):E()),wt.reset()),p}function Pn(p,E,g,y){const{scrollBehavior:w}=t;if(!Se||!w)return Promise.resolve();const M=!g&&So(kn(p.fullPath,0))||(y||!g)&&history.state&&history.state.scroll||null;return Xs().then(()=>w(p,E,M)).then(O=>O&&yo(O)).catch(O=>At(O,p,E))}const Nt=p=>s.go(p);let Pt;const Mt=new Set,Mn={currentRoute:a,listening:!0,addRoute:h,removeRoute:v,hasRoute:S,getRoutes:_,resolve:b,options:t,push:P,replace:k,go:Nt,back:()=>Nt(-1),forward:()=>Nt(1),beforeEach:o.add,beforeResolve:i.add,afterEach:c.add,onError:Nn.add,isReady:zs,install(p){const E=this;p.component("RouterLink",si),p.component("RouterView",ci),p.config.globalProperties.$router=E,Object.defineProperty(p.config.globalProperties,"$route",{enumerable:!0,get:()=>$e(a)}),Se&&!Pt&&a.value===te&&(Pt=!0,P(s.location).catch(w=>{}));const g={};for(const w in te)g[w]=j(()=>a.value[w]);p.provide(Tt,E),p.provide(hn,ln(g)),p.provide(Qt,a);const y=p.unmount;Mt.add(p),p.unmount=function(){Mt.delete(p),Mt.size<1&&(l=te,Pe&&Pe(),Pe=null,a.value=te,Pt=!1,nt=!1),y()}}};return Mn}function ge(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function li(t,e){const n=[],r=[],s=[],o=Math.max(e.matched.length,t.matched.length);for(let i=0;i<o;i++){const c=e.matched[i];c&&(t.matched.find(l=>Oe(l,c))?r.push(c):n.push(c));const a=t.matched[i];a&&(e.matched.find(l=>Oe(l,a))||s.push(a))}return[n,r,s]}function hf(){return ue(Tt)}function pf(){return ue(hn)}var $t=new WeakMap,Nr=new Map,fi=new Map,le;(function(t){t[t.Constant=0]="Constant",t[t.Instance=1]="Instance",t[t.Factory=2]="Factory"})(le||(le={}));var ee;(function(t){t[t.Container=0]="Container",t[t.Resolution=1]="Resolution",t[t.Singleton=2]="Singleton",t[t.Transient=3]="Transient"})(ee||(ee={}));var di=class{constructor(t){this.impl=t,this.type=le.Constant}},hi=class{constructor(t){this.impl=t,this.type=le.Factory}},pi=t=>t.type===le.Factory,It=class{constructor(t){this.impl=t,this.type=le.Instance}},mi=class extends It{constructor(){super(...arguments),this.scope=ee.Container,this.cache=new WeakMap}},gi=class extends It{constructor(){super(...arguments),this.scope=ee.Resolution}},vi=class extends It{constructor(t){super(t),this.impl=t,this.scope=ee.Singleton}},Ei=class extends It{constructor(){super(...arguments),this.scope=ee.Transient}},yi=t=>t.type===le.Instance,_i=t=>t.scope===ee.Container,Si=t=>t.scope===ee.Resolution,bi=t=>t.scope===ee.Singleton,Ti=t=>Symbol(t),Pr=t=>{const e=Symbol(t);return{__t:null,__d:t,__s:e,__o:!1,optional:{__t:null,__d:t,__s:e,__o:!0}}},ke=class{constructor(){this.parent=null,this.map=new Map}set(t,e,n=ke.notag){const r=this.map.get(e.__s);r?r.set(n,t):this.map.set(e.__s,new Map().set(n,t))}find(t,e,n){const r=this.map.get(t.__s);if(r!==void 0){if(n){const s=r.get(n);if(s)return s}if(e)for(let s=0,o=e.length;s<o;s+=1){const i=r.get(e[s]);if(i)return i}return r.get(ke.notag)}}resolve(t,e,n,r){const s=this.find(t,n,r);return s===void 0?this.parent?this.parent.resolve(t,e,n,r):null:s instanceof ke?(e.vaults.push(s),s.resolve(t,e,n,r)):s}get(t,e,n,r){const s=this.resolve(t,e,n,r);if(s)return s;for(let o=0,i=e.vaults,c=i.length;o<c;o+=1){const a=i[o].resolve(t,e,n,r);if(a)return a}return null}from(t){const e=new ke;return e.parent=this.parent,this.map.forEach((n,r)=>{e.map.set(r,t(n))}),e}clone(){return this.from(t=>new Map(t))}},Mr=ke;Mr.notag=Ti("NO_TAG");var Ii=class{constructor(t,e,n,r){this.vault=t,this.tokens=e,this.getVault=n,this.condition=r}from(t){const{tokens:e}=this;for(let n=0,r=e.length;n<r;n+=1)this.vault.set(this.getVault(t),e[n],this.condition)}},Oi=class{constructor(t,e,n,r){this.vault=t,this.impl=e,this.token=n,this.condition=r}inContainerScope(){this.set(mi)}inResolutionScope(){this.set(gi)}inSingletonScope(){this.set(vi)}inTransientScope(){this.set(Ei)}set(t){this.vault.set(new t(this.impl),this.token,this.condition)}},Ri=class{constructor(t,e,n){this.vault=t,this.token=e,this.condition=n}toConstant(t){this.vault.set(new di(t),this.token,this.condition)}toFactory(t,e){this.vault.set(new hi({creator:t,initializer:e}),this.token,this.condition)}toInstance(t){return new Oi(this.vault,t,this.token,this.condition)}},Jt=class{constructor(t,e){this.vault=t,this.condition=e}static vault(t){return t.vault}bind(t){return new Ri(this.vault,t,this.condition)}use(...t){return new Ii(this.vault,t,Jt.vault,this.condition)}},Ci=class extends Jt{when(t){return new Jt(this.vault,t)}},wi=class extends Ci{constructor(){super(new Mr)}},Dr=class{constructor(t=new Map,e=[]){this.instances=t,this.vaults=e}split(){return new Dr(this.instances,this.vaults.slice())}},ft=class extends wi{constructor(){super(),this.snapshot=null}extend(t){return this.vault.parent=t===null?null:t.vault,this}clone(){const t=new ft;return t.vault=this.vault.clone(),t}get(t,e){return this.resolveToken(t,e)}resolveTokens(t,e,n,r){return t.map(s=>this.resolveToken(s,n,r,e.split()))}resolveToken(t,e,n,r=new Dr){const s=this.vault.get(t,r,e,n);if(s)return this.resolveBinding(s,r);if(!t.__o)throw new Error(`No matching bindings found for '${t.__d}' token.`)}resolveBinding(t,e){return yi(t)?bi(t)?this.resolveCache(t,e,()=>t.cache,n=>{t.cache=n}):_i(t)?this.resolveCache(t,e,()=>t.cache.get(this.vault),n=>{t.cache.set(this.vault,n)}):Si(t)?this.resolveCache(t,e,()=>e.instances.get(t),n=>{e.instances.set(t,n)}):this.createInstance(t.impl,e):pi(t)?(...n)=>{const r=this.createInstance(t.impl.creator,e);return r instanceof Promise?r.then(s=>ft.resolveInitialization(s,n,t.impl.initializer)):ft.resolveInitialization(r,n,t.impl.initializer)}:t.impl}resolveCache(t,e,n,r){const s=n();if(s!==void 0)return s;const o=this.createInstance(t.impl,e);return r(o),o}createInstance(t,e){const n=this.getParameters(t,e),r=$t.get(t);if(r!==void 0)return r?t(...n):new t(...n);try{const s=t(...n);return $t.set(t,!0),s}catch{const o=new t(...n);return $t.set(t,!1),o}}getParameters(t,e){const n=Nr.get(t);if(n)return this.resolveTokens(n,e,fi.get(t),t);if(t.length===0)return[];throw new Error(`Missing required 'injected' registration of '${t.name}'`)}static resolveInitialization(t,e,n){const r=n==null?void 0:n(t,...e);return r instanceof Promise?r.then(()=>t):t}},Ai=()=>new ft,se=(t,...e)=>(Nr.set(t,e),t);const pn=Ai(),xr=t=>pn.get(t),mf=(...t)=>t.map(e=>()=>xr(e)),W=(t,e)=>{const n=Pr(e.description);return pn.bind(n).toInstance(t).inSingletonScope(),n},Li=(t,e)=>{const n=Pr(e.description);return pn.bind(n).toConstant(t),n};/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var kr="store";function we(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function Ni(t){return t!==null&&typeof t=="object"}function Pi(t){return t&&typeof t.then=="function"}function Mi(t,e){return function(){return t(e)}}function Ur(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function $r(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;Ot(t,n,[],t._modules.root,!0),mn(t,n,e)}function mn(t,e,n){var r=t._state,s=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var o=t._wrappedGetters,i={},c={},a=Zs(!0);a.run(function(){we(o,function(l,u){i[u]=Mi(l,t),c[u]=j(function(){return i[u]()}),Object.defineProperty(t.getters,u,{get:function(){return c[u].value},enumerable:!0})})}),t._state=ln({data:e}),t._scope=a,t.strict&&$i(t),r&&n&&t._withCommit(function(){r.data=null}),s&&s.stop()}function Ot(t,e,n,r,s){var o=!n.length,i=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[i],t._modulesNamespaceMap[i]=r),!o&&!s){var c=gn(e,n.slice(0,-1)),a=n[n.length-1];t._withCommit(function(){c[a]=r.state})}var l=r.context=Di(t,i,n);r.forEachMutation(function(u,f){var d=i+f;xi(t,d,u,l)}),r.forEachAction(function(u,f){var d=u.root?f:i+f,h=u.handler||u;ki(t,d,h,l)}),r.forEachGetter(function(u,f){var d=i+f;Ui(t,d,u,l)}),r.forEachChild(function(u,f){Ot(t,e,n.concat(f),u,s)})}function Di(t,e,n){var r=e==="",s={dispatch:r?t.dispatch:function(o,i,c){var a=mt(o,i,c),l=a.payload,u=a.options,f=a.type;return(!u||!u.root)&&(f=e+f),t.dispatch(f,l)},commit:r?t.commit:function(o,i,c){var a=mt(o,i,c),l=a.payload,u=a.options,f=a.type;(!u||!u.root)&&(f=e+f),t.commit(f,l,u)}};return Object.defineProperties(s,{getters:{get:r?function(){return t.getters}:function(){return Br(t,e)}},state:{get:function(){return gn(t.state,n)}}}),s}function Br(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach(function(s){if(s.slice(0,r)===e){var o=s.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[s]},enumerable:!0})}}),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function xi(t,e,n,r){var s=t._mutations[e]||(t._mutations[e]=[]);s.push(function(i){n.call(t,r.state,i)})}function ki(t,e,n,r){var s=t._actions[e]||(t._actions[e]=[]);s.push(function(i){var c=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},i);return Pi(c)||(c=Promise.resolve(c)),t._devtoolHook?c.catch(function(a){throw t._devtoolHook.emit("vuex:error",a),a}):c})}function Ui(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(o){return n(r.state,r.getters,o.state,o.getters)})}function $i(t){fn(function(){return t._state.data},function(){},{deep:!0,flush:"sync"})}function gn(t,e){return e.reduce(function(n,r){return n[r]},t)}function mt(t,e,n){return Ni(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var Bi="vuex bindings",Yn="vuex:mutations",Bt="vuex:actions",ve="vuex",Gi=0;function Fi(t,e){io({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[Bi]},function(n){n.addTimelineLayer({id:Yn,label:"Vuex Mutations",color:Zn}),n.addTimelineLayer({id:Bt,label:"Vuex Actions",color:Zn}),n.addInspector({id:ve,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===t&&r.inspectorId===ve)if(r.filter){var s=[];Hr(s,e._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[Vr(e._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===t&&r.inspectorId===ve){var s=r.nodeId;Br(e,s),r.state=ji(Ki(e._modules,s),s==="root"?e.getters:e._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===t&&r.inspectorId===ve){var s=r.nodeId,o=r.path;s!=="root"&&(o=s.split("/").filter(Boolean).concat(o)),e._withCommit(function(){r.set(e._state.data,o,r.state.value)})}}),e.subscribe(function(r,s){var o={};r.payload&&(o.payload=r.payload),o.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(ve),n.sendInspectorState(ve),n.addTimelineEvent({layerId:Yn,event:{time:Date.now(),title:r.type,data:o}})}),e.subscribeAction({before:function(r,s){var o={};r.payload&&(o.payload=r.payload),r._id=Gi++,r._time=Date.now(),o.state=s,n.addTimelineEvent({layerId:Bt,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:o}})},after:function(r,s){var o={},i=Date.now()-r._time;o.duration={_custom:{type:"duration",display:i+"ms",tooltip:"Action duration",value:i}},r.payload&&(o.payload=r.payload),o.state=s,n.addTimelineEvent({layerId:Bt,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:o}})}})})}var Zn=8702998,Vi=6710886,Hi=16777215,Gr={label:"namespaced",textColor:Hi,backgroundColor:Vi};function Fr(t){return t&&t!=="root"?t.split("/").slice(-2,-1)[0]:"Root"}function Vr(t,e){return{id:e||"root",label:Fr(e),tags:t.namespaced?[Gr]:[],children:Object.keys(t._children).map(function(n){return Vr(t._children[n],e+n+"/")})}}function Hr(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[Gr]:[]}),Object.keys(e._children).forEach(function(s){Hr(t,e._children[s],n,r+s+"/")})}function ji(t,e,n){e=n==="root"?e:e[n];var r=Object.keys(e),s={state:Object.keys(t.state).map(function(i){return{key:i,editable:!0,value:t.state[i]}})};if(r.length){var o=zi(e);s.getters=Object.keys(o).map(function(i){return{key:i.endsWith("/")?Fr(i):i,editable:!1,value:en(function(){return o[i]})}})}return s}function zi(t){var e={};return Object.keys(t).forEach(function(n){var r=n.split("/");if(r.length>1){var s=e,o=r.pop();r.forEach(function(i){s[i]||(s[i]={_custom:{value:{},display:i,tooltip:"Module",abstract:!0}}),s=s[i]._custom.value}),s[o]=en(function(){return t[n]})}else e[n]=en(function(){return t[n]})}),e}function Ki(t,e){var n=e.split("/").filter(function(r){return r});return n.reduce(function(r,s,o){var i=r[s];if(!i)throw new Error('Missing module "'+s+'" for path "'+e+'".');return o===n.length-1?i:i._children},e==="root"?t:t.root._children)}function en(t){try{return t()}catch(e){return e}}var q=function(e,n){this.runtime=n,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=(typeof r=="function"?r():r)||{}},jr={namespaced:{configurable:!0}};jr.namespaced.get=function(){return!!this._rawModule.namespaced};q.prototype.addChild=function(e,n){this._children[e]=n};q.prototype.removeChild=function(e){delete this._children[e]};q.prototype.getChild=function(e){return this._children[e]};q.prototype.hasChild=function(e){return e in this._children};q.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)};q.prototype.forEachChild=function(e){we(this._children,e)};q.prototype.forEachGetter=function(e){this._rawModule.getters&&we(this._rawModule.getters,e)};q.prototype.forEachAction=function(e){this._rawModule.actions&&we(this._rawModule.actions,e)};q.prototype.forEachMutation=function(e){this._rawModule.mutations&&we(this._rawModule.mutations,e)};Object.defineProperties(q.prototype,jr);var de=function(e){this.register([],e,!1)};de.prototype.get=function(e){return e.reduce(function(n,r){return n.getChild(r)},this.root)};de.prototype.getNamespace=function(e){var n=this.root;return e.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};de.prototype.update=function(e){zr([],this.root,e)};de.prototype.register=function(e,n,r){var s=this;r===void 0&&(r=!0);var o=new q(n,r);if(e.length===0)this.root=o;else{var i=this.get(e.slice(0,-1));i.addChild(e[e.length-1],o)}n.modules&&we(n.modules,function(c,a){s.register(e.concat(a),c,r)})};de.prototype.unregister=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};de.prototype.isRegistered=function(e){var n=this.get(e.slice(0,-1)),r=e[e.length-1];return n?n.hasChild(r):!1};function zr(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return;zr(t.concat(r),e.getChild(r),n.modules[r])}}function Kr(t){return new V(t)}var V=function(e){var n=this;e===void 0&&(e={});var r=e.plugins;r===void 0&&(r=[]);var s=e.strict;s===void 0&&(s=!1);var o=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new de(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=o;var i=this,c=this,a=c.dispatch,l=c.commit;this.dispatch=function(d,h){return a.call(i,d,h)},this.commit=function(d,h,v){return l.call(i,d,h,v)},this.strict=s;var u=this._modules.root.state;Ot(this,u,[],this._modules.root),mn(this,u),r.forEach(function(f){return f(n)})},vn={state:{configurable:!0}};V.prototype.install=function(e,n){e.provide(n||kr,this),e.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&Fi(e,this)};vn.state.get=function(){return this._state.data};vn.state.set=function(t){};V.prototype.commit=function(e,n,r){var s=this,o=mt(e,n,r),i=o.type,c=o.payload,a={type:i,payload:c},l=this._mutations[i];l&&(this._withCommit(function(){l.forEach(function(f){f(c)})}),this._subscribers.slice().forEach(function(u){return u(a,s.state)}))};V.prototype.dispatch=function(e,n){var r=this,s=mt(e,n),o=s.type,i=s.payload,c={type:o,payload:i},a=this._actions[o];if(a){try{this._actionSubscribers.slice().filter(function(u){return u.before}).forEach(function(u){return u.before(c,r.state)})}catch{}var l=a.length>1?Promise.all(a.map(function(u){return u(i)})):a[0](i);return new Promise(function(u,f){l.then(function(d){try{r._actionSubscribers.filter(function(h){return h.after}).forEach(function(h){return h.after(c,r.state)})}catch{}u(d)},function(d){try{r._actionSubscribers.filter(function(h){return h.error}).forEach(function(h){return h.error(c,r.state,d)})}catch{}f(d)})})}};V.prototype.subscribe=function(e,n){return Ur(e,this._subscribers,n)};V.prototype.subscribeAction=function(e,n){var r=typeof e=="function"?{before:e}:e;return Ur(r,this._actionSubscribers,n)};V.prototype.watch=function(e,n,r){var s=this;return fn(function(){return e(s.state,s.getters)},n,Object.assign({},r))};V.prototype.replaceState=function(e){var n=this;this._withCommit(function(){n._state.data=e})};V.prototype.registerModule=function(e,n,r){r===void 0&&(r={}),typeof e=="string"&&(e=[e]),this._modules.register(e,n),Ot(this,this.state,e,this._modules.get(e),r.preserveState),mn(this,this.state)};V.prototype.unregisterModule=function(e){var n=this;typeof e=="string"&&(e=[e]),this._modules.unregister(e),this._withCommit(function(){var r=gn(n.state,e.slice(0,-1));delete r[e[e.length-1]]}),$r(this)};V.prototype.hasModule=function(e){return typeof e=="string"&&(e=[e]),this._modules.isRegistered(e)};V.prototype.hotUpdate=function(e){this._modules.update(e),$r(this,!0)};V.prototype._withCommit=function(e){var n=this._committing;this._committing=!0,e(),this._committing=n};Object.defineProperties(V.prototype,vn);class qi{constructor(e){H(this,"storageAdapter");this.storageAdapter=e}get(e){let n;try{n=this.storageAdapter.getItem(e)}catch{return null}if(n===null||!(n.startsWith("[")||n.startsWith("{")))return n;try{return JSON.parse(n)}catch{return n}}set(e,n){try{const r=typeof n=="string"?n:JSON.stringify(n);this.storageAdapter.setItem(e,r)}catch{}}has(e){try{return this.storageAdapter.getItem(e)!==null}catch{return!1}}remove(e){try{this.storageAdapter.removeItem(e)}catch{}}}const J=new qi(window.localStorage);function Wi(t,e,n="/"){const r=ui({history:Oo(n),routes:t});return r.beforeEach(Xi()),r.beforeEach(Yi(e)),r.beforeEach(Zi(e)),r}const Xi=()=>(t,e,n)=>{t.fullPath.startsWith("/#/")?n(t.fullPath.substring(2)):n()},Yi=t=>(e,n,r)=>{e.params.mesh&&e.params.mesh!==t.state.selectedMesh&&t.dispatch("updateSelectedMesh",e.params.mesh),r()},Zi=t=>(e,n,r)=>{const s=t.state.onboarding.isCompleted,o=e.meta.onboardingProcess,i=t.getters.shouldSuggestOnboarding;s&&o&&!i?r({name:"home"}):!s&&!o&&i?r({name:J.get("onboardingStep")??"onboarding-welcome"}):r()};function qr(t,e,n){return document.title=`${t("KUMA_PRODUCT_NAME")} Manager`,async r=>{const s=Qs(r),o=await Wi(e,n,t("KUMA_BASE_PATH"));return s.use(n,kr),s.use(o),s}}function Wr(t,e,n,r){return async()=>{await r.dispatch("updateGlobalLoading",!0),n.setBaseUrl(t("KUMA_API_URL")),n.getConfig().then(s=>{e.setup(s)}),await Promise.all([r.dispatch("bootstrap"),r.dispatch("fetchPolicyTypes")]),await r.dispatch("updateGlobalLoading",!1)}}function Qi(t,e){const n=t?[{name:"Zones",categoryTier:"primary"},{name:"Zone CPs",routeName:"zones",insightsFieldAccessor:"global.Zone"},{name:"Zone Ingresses",routeName:"zoneingresses",insightsFieldAccessor:"global.ZoneIngress"},{name:"Zone Egresses",routeName:"zoneegresses",insightsFieldAccessor:"global.ZoneEgress"}]:[],r=e?[{name:"Mesh",categoryTier:"primary"},{name:"Mesh selector",isMeshSelector:!0},{name:"Overview",routeName:"mesh-detail-view",usesMeshParam:!0},{name:"Services",routeName:"service-list-view",insightsFieldAccessor:"mesh.services.total",usesMeshParam:!0},{name:"Gateways",routeName:"gateway-list-view",usesMeshParam:!0,insightsFieldAccessor:"mesh.dataplanes.gateway"},{name:"Data Plane Proxies",routeName:"data-plane-list-view",usesMeshParam:!0,insightsFieldAccessor:"mesh.dataplanes.standard"},{name:"Policies",routeName:"policies",usesMeshParam:!0,insightsFieldAccessor:"mesh.policies.total"}]:[];return[{name:"Home",routeName:"home",shouldOffsetFromFollowingItems:!0},...n,...r]}const Ji="modulepreload",ea=function(t,e){return t.startsWith(".")?new URL(t,e).href:t},Qn={},C=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=ea(o,r),o in Qn)return;Qn[o]=!0;const i=o.endsWith(".css"),c=i?'[rel="stylesheet"]':"";if(!!r)for(let u=s.length-1;u>=0;u--){const f=s[u];if(f.href===o&&(!i||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const l=document.createElement("link");if(l.rel=i?"stylesheet":Ji,i||(l.as="script",l.crossOrigin=""),l.href=o,document.head.appendChild(l),i)return new Promise((u,f)=>{l.addEventListener("load",u),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e())};function ae(t,e=0){const n=ta(t);return n!==void 0?parseInt(n):e}function ta(t){const e=Array.isArray(t)?t:[t];return e[e.length-1]??void 0}const Xr=t=>[{path:"/404",name:"not-found",alias:"/:pathMatch(.*)*",meta:{title:"Item not found"},component:()=>C(()=>import("./AppNotFoundView-03a9c19b.js"),[],import.meta.url)},{path:"/",name:"home",meta:{title:"Overview"},component:()=>C(()=>import("./MainOverviewView-9d52cdf5.js"),["./MeshResources-ab266140.css","./DoughnutChart-dcab10b9.css","./index-6666780c.css"],import.meta.url)},{path:"/diagnostics",name:"diagnostics",meta:{title:"Diagnostics"},component:()=>C(()=>import("./DiagnosticsView-c680297e.js"),["./CodeBlock-7d9027b4.css"],import.meta.url)},{path:"/zones",name:"zones",meta:{title:"Zones"},props:e=>({selectedZoneName:e.query.zone,offset:ae(e.query.offset)}),component:()=>C(()=>import("./ZonesView-823ea54c.js"),["./AccordionList-b115d826.css","./CodeBlock-7d9027b4.css","./ErrorBlock-2588eb72.css","./TagList-cc36c6cc.css","./StatusBadge-43351938.css","./DataOverview-45c364ac.css","./LabelList-82c1e9de.css","./SubscriptionHeader-eccbf9a9.css","./TabsWidget-f10f1944.css"],import.meta.url)},{path:"/zone-ingresses",name:"zoneingresses",meta:{title:"Zone ingresses"},props:e=>({selectedZoneIngressName:e.query.zoneIngress,offset:ae(e.query.offset)}),component:()=>C(()=>import("./ZoneIngresses-bc026335.js"),["./AccordionList-b115d826.css","./ErrorBlock-2588eb72.css","./TagList-cc36c6cc.css","./StatusBadge-43351938.css","./DataOverview-45c364ac.css","./CodeBlock-7d9027b4.css","./EnvoyData-b80bcb44.css","./LabelList-82c1e9de.css","./SubscriptionHeader-eccbf9a9.css","./TabsWidget-f10f1944.css"],import.meta.url)},{path:"/zoneegresses",name:"zoneegresses",meta:{title:"Zone egresses"},props:e=>({selectedZoneEgressName:e.query.zoneEgress,offset:ae(e.query.offset)}),component:()=>C(()=>import("./ZoneEgresses-f057fc2c.js"),["./AccordionList-b115d826.css","./ErrorBlock-2588eb72.css","./TagList-cc36c6cc.css","./StatusBadge-43351938.css","./DataOverview-45c364ac.css","./CodeBlock-7d9027b4.css","./EnvoyData-b80bcb44.css","./LabelList-82c1e9de.css","./SubscriptionHeader-eccbf9a9.css","./TabsWidget-f10f1944.css"],import.meta.url)},{path:"/mesh/:mesh",children:[{path:"",name:"mesh-detail-view",meta:{title:"Mesh overview"},component:()=>C(()=>import("./MeshOverviewView-ed28a238.js"),["./DoughnutChart-dcab10b9.css","./ContentWrapper-fe2d0f8d.css","./ErrorBlock-2588eb72.css","./LabelList-82c1e9de.css","./MeshResources-ab266140.css","./CodeBlock-7d9027b4.css","./MeshOverviewView-e12dc0db.css"],import.meta.url)},{path:"gateways",children:[{path:"",name:"gateway-list-view",meta:{title:"Gateways"},props:e=>({selectedDppName:e.query.gateway,gatewayType:e.query.gatewayType==="all"?"true":e.query.gatewayType,offset:ae(e.query.offset),isGatewayView:!0}),component:()=>C(()=>import("./DataPlaneListView-a6ae570d.js"),["./ContentWrapper-fe2d0f8d.css","./ErrorBlock-2588eb72.css","./TagList-cc36c6cc.css","./StatusBadge-43351938.css","./DataOverview-45c364ac.css","./CodeBlock-7d9027b4.css","./DataPlaneList-a5739dc4.css","./DataPlaneListView-c9bf2e34.css"],import.meta.url)},{path:":dataPlane",name:"gateway-detail-view",meta:{title:"Gateway",parent:"gateway-list-view",breadcrumbTitleParam:"dataPlane"},component:()=>C(()=>import("./DataPlaneDetailView-63ecd8ad.js"),["./AccordionList-b115d826.css","./CodeBlock-7d9027b4.css","./TagList-cc36c6cc.css","./ErrorBlock-2588eb72.css","./EnvoyData-b80bcb44.css","./LabelList-82c1e9de.css","./StatusBadge-43351938.css","./SubscriptionHeader-eccbf9a9.css","./TabsWidget-f10f1944.css","./DataPlaneDetailView-c55b3b54.css"],import.meta.url)}]},{path:"data-planes",children:[{path:"",name:"data-plane-list-view",meta:{title:"Data plane proxies"},props:e=>({selectedDppName:e.query.dpp,offset:ae(e.query.offset)}),component:()=>C(()=>import("./DataPlaneListView-a6ae570d.js"),["./ContentWrapper-fe2d0f8d.css","./ErrorBlock-2588eb72.css","./TagList-cc36c6cc.css","./StatusBadge-43351938.css","./DataOverview-45c364ac.css","./CodeBlock-7d9027b4.css","./DataPlaneList-a5739dc4.css","./DataPlaneListView-c9bf2e34.css"],import.meta.url)},{path:":dataPlane",name:"data-plane-detail-view",meta:{title:"Data plane proxy",parent:"data-plane-list-view",breadcrumbTitleParam:"dataPlane"},component:()=>C(()=>import("./DataPlaneDetailView-63ecd8ad.js"),["./AccordionList-b115d826.css","./CodeBlock-7d9027b4.css","./TagList-cc36c6cc.css","./ErrorBlock-2588eb72.css","./EnvoyData-b80bcb44.css","./LabelList-82c1e9de.css","./StatusBadge-43351938.css","./SubscriptionHeader-eccbf9a9.css","./TabsWidget-f10f1944.css","./DataPlaneDetailView-c55b3b54.css"],import.meta.url)}]},{path:"services",children:[{path:"",name:"service-list-view",meta:{title:"Services"},props:e=>({selectedServiceName:e.query.service,offset:ae(e.query.offset)}),component:()=>C(()=>import("./ServiceListView-dc8a0d5b.js"),["./StatusBadge-43351938.css","./TagList-cc36c6cc.css","./CodeBlock-7d9027b4.css","./ErrorBlock-2588eb72.css","./ServiceSummary-7a74117b.css","./ContentWrapper-fe2d0f8d.css","./DataOverview-45c364ac.css"],import.meta.url)},{path:":service",name:"service-detail-view",meta:{title:"Internal service",parent:"service-list-view",breadcrumbTitleParam:"service"},props:e=>({selectedDppName:e.query.dpp}),component:()=>C(()=>import("./ServiceDetailView-ad129469.js"),["./StatusBadge-43351938.css","./TagList-cc36c6cc.css","./CodeBlock-7d9027b4.css","./ErrorBlock-2588eb72.css","./ServiceSummary-7a74117b.css","./ContentWrapper-fe2d0f8d.css","./DataOverview-45c364ac.css","./DataPlaneList-a5739dc4.css"],import.meta.url)}]},{path:"policies",name:"policies",meta:{title:"Policies"},redirect:e=>{let n=t.state.policyTypes.find(r=>t.state.sidebar.insights.mesh.policies[r.name]!==0);return n===void 0&&(n=t.state.policyTypes[0]),{...e,params:{...e.params,policyPath:n.path},name:"policy"}}},{path:"policies/:policyPath",name:"policy",meta:{parent:"policies"},component:()=>C(()=>import("./PolicyView-01b9569e.js"),["./ErrorBlock-2588eb72.css","./LabelList-82c1e9de.css","./TagList-cc36c6cc.css","./StatusBadge-43351938.css","./DataOverview-45c364ac.css","./TabsWidget-f10f1944.css","./CodeBlock-7d9027b4.css","./PolicyView-e1bb89a5.css"],import.meta.url),props:e=>{const n=t.state.policyTypesByPath[e.params.policyPath];return e.meta.title=n.name,{policyPath:e.params.policyPath,selectedPolicyName:e.query.policy,offset:ae(e.query.offset)}}}]},{path:"/onboarding",redirect:{name:"onboarding-welcome"},component:()=>C(()=>import("./OnboardingView-8ca95f3a.js"),[],import.meta.url),children:[{path:"welcome",name:"onboarding-welcome",meta:{title:"Welcome to Kuma!",onboardingProcess:!0},component:()=>C(()=>import("./WelcomeView-c5b445e8.js"),["./OnboardingPage-4df0909e.css","./WelcomeView-e59e6754.css"],import.meta.url)},{path:"deployment-types",name:"onboarding-deployment-types",meta:{title:"Deployment Types",onboardingProcess:!0},component:()=>C(()=>import("./DeploymentTypes-3d7cbbaa.js"),["./OnboardingPage-4df0909e.css","./DoughnutChart-dcab10b9.css","./index-6666780c.css","./DeploymentTypes-117a8d0f.css"],import.meta.url)},{path:"configuration-types",name:"onboarding-configuration-types",meta:{title:"Configuration Types",onboardingProcess:!0},component:()=>C(()=>import("./ConfigurationTypes-1554a92a.js"),["./OnboardingPage-4df0909e.css","./DoughnutChart-dcab10b9.css","./index-6666780c.css","./ConfigurationTypes-fba5a0ef.css"],import.meta.url)},{path:"multi-zone",name:"onboarding-multi-zone",meta:{title:"Multizone",onboardingProcess:!0},component:()=>C(()=>import("./MultiZoneView-0a835baf.js"),["./LoadingBox-0bc10551.css","./OnboardingPage-4df0909e.css","./MultiZoneView-be28a607.css"],import.meta.url)},{path:"create-mesh",name:"onboarding-create-mesh",meta:{title:"Create the Mesh",onboardingProcess:!0},component:()=>C(()=>import("./CreateMesh-cfe67cb6.js"),["./OnboardingPage-4df0909e.css","./CreateMesh-e4fd98f5.css"],import.meta.url)},{path:"add-services",name:"onboarding-add-services",meta:{title:"Add new services",onboardingProcess:!0},component:()=>C(()=>import("./AddNewServices-b20e0dc2.js"),["./OnboardingPage-4df0909e.css","./AddNewServices-73d48b1b.css"],import.meta.url)},{path:"add-services-code",name:"onboarding-add-services-code",meta:{title:"Add new services",onboardingProcess:!0},component:()=>C(()=>import("./AddNewServicesCode-fe45c301.js"),["./LoadingBox-0bc10551.css","./OnboardingPage-4df0909e.css","./CodeBlock-7d9027b4.css","./AddNewServicesCode-d7d91d23.css"],import.meta.url)},{path:"dataplanes-overview",name:"onboarding-dataplanes-overview",meta:{title:"Data plane overview",onboardingProcess:!0},component:()=>C(()=>import("./DataplanesOverview-09c27322.js"),["./LoadingBox-0bc10551.css","./OnboardingPage-4df0909e.css","./StatusBadge-43351938.css","./DataplanesOverview-5badfd4a.css"],import.meta.url)},{path:"completed",name:"onboarding-completed",meta:{title:"Completed",onboardingProcess:!0},component:()=>C(()=>import("./CompletedView-6525c7cc.js"),["./OnboardingPage-4df0909e.css","./CompletedView-b0085c13.css"],import.meta.url)}]},{path:"/wizard",name:"wizard",children:[{path:"mesh",name:"create-mesh",meta:{title:"Create a new mesh",wizardProcess:!0},component:()=>C(()=>import("./MeshWizard-78b62657.js"),["./StepSkeleton-8db1221b.css","./CodeBlock-7d9027b4.css","./ErrorBlock-2588eb72.css","./TabsWidget-f10f1944.css","./MeshWizard-7be3cd18.css"],import.meta.url)},{path:"kubernetes-dataplane",name:"kubernetes-dataplane",meta:{title:"Create a new data plane proxy on Kubernetes",wizardProcess:!0},component:()=>C(()=>import("./DataplaneKubernetes-5dcb094b.js"),["./StepSkeleton-8db1221b.css","./EnvironmentSwitcher-c3d33458.css","./CodeBlock-7d9027b4.css","./DataplaneKubernetes-b7144be8.css"],import.meta.url)},{path:"universal-dataplane",name:"universal-dataplane",meta:{title:"Create a new data plane proxy on Universal",wizardProcess:!0},component:()=>C(()=>import("./DataplaneUniversal-38246a0f.js"),["./StepSkeleton-8db1221b.css","./EnvironmentSwitcher-c3d33458.css","./CodeBlock-7d9027b4.css","./DataplaneUniversal-492a8cbb.css"],import.meta.url)}]}];function na(t){return{baseGuiPath:"/gui",apiUrl:t,version:"1.7.0"}}class Yr{constructor(e){H(this,"env");let n=e;const r=(c,a="")=>this.var(c,(n==null?void 0:n[c])??a),s=this.getConfig(),o=ra(r("KUMA_VERSION",s.version)),i=encodeURIComponent(r("KUMA_PRODUCT_NAME"));n={...n,KUMA_UTM_QUERY_PARAMS:`utm_source=${i}&utm_medium=${i}`},this.env={...n,KUMA_INSTALL_URL:`${r("KUMA_INSTALL_URL")}?${r("KUMA_UTM_QUERY_PARAMS")}`,KUMA_DOCS_URL:`${r("KUMA_DOCS_URL")}/${o.patch==="0.0.0"?"dev":o.patch.replace(/\.\d+$/,".x")}`,KUMA_VERSION:o.pre,KUMA_API_URL:r("KUMA_API_URL")||s.apiUrl,KUMA_BASE_PATH:r("KUMA_BASE_PATH")||s.baseGuiPath}}var(e,n=""){var r;return((r=this.env)==null?void 0:r[e])??n}getConfig(){const e=document.querySelector("#kuma-config");if(e instanceof HTMLScriptElement&&e.textContent)try{const n=JSON.parse(e.textContent.trim());return n.apiUrl=sa(n.apiUrl),n}catch{}return na("/")}}function ra(t){const[e,n,...r]=t.split(".");if(isNaN(parseInt(e)))return{major:e,minor:e,patch:e,pre:e};const[s,o]=r.join(".").split("-");return{major:e,minor:`${e}.${n}`,patch:`${e}.${n}.${s}`,pre:`${e}.${n}.${s}${o!==void 0?`-${o}`:""}`}}function sa(t){if(t.startsWith("http"))return t.replace(/\/+$/,"");{const e=(t.startsWith("/")?"":"/")+t;return e==="/"?"/":e.replace(/\/+$/,"")}}class oa extends Error{constructor({title:n=null,message:r,code:s=null,statusCode:o,causes:i=[]}){super(r);H(this,"title");H(this,"code");H(this,"causes");H(this,"statusCode");this.name="ApiError",this.title=n,this.code=s,this.statusCode=o,this.causes=i}toJSON(){return{name:this.name,title:this.title,message:this.message,code:this.code,statusCode:this.statusCode,causes:this.causes}}}async function ia(t,e={}){var l;const n=e,r=n.method??"GET";n.headers=n.headers instanceof Headers?n.headers:new Headers(n.headers),!n.headers.has("content-type")&&["POST","PUT","PATCH"].includes(r)&&n.headers.set("content-type","application/json");let s=t;"params"in e&&(r==="GET"?s+=`?${new URLSearchParams(e.params).toString()}`:(l=n.headers.get("content-type"))!=null&&l.startsWith("application/json")&&(n.body=JSON.stringify(e.params)));let o;try{o=await fetch(s,n)}catch(u){throw aa(u)}const i=o.headers.get("content-type"),a=(i!==null?i.startsWith("application/json"):!1)?await o.json():await o.text();if(o.ok)return{response:o,data:a};throw ca(o,a)}function aa(t){const e=t instanceof Error?t.message:"An unknown network error occurred.";return new Error(e)}function ca(t,e){let n=null,r="An error has occurred while trying to load this data.",s=null,o=[];return typeof e=="string"&&e.length>0?r=e:e&&(Object.prototype.hasOwnProperty.call(e,"title")&&(n=e.title),Object.prototype.hasOwnProperty.call(e,"details")&&(r=e.details),Object.prototype.hasOwnProperty.call(e,"code")&&(s=e.code),Object.prototype.hasOwnProperty.call(e,"causes")&&Array.isArray(e.causes)&&(o=e.causes)),t.status===403&&(r="You currently don’t have access to this data."),new oa({title:n,message:r,code:s,causes:o,statusCode:t.status})}class ua{constructor(e){H(this,"_baseUrl");H(this,"_options",{});this._baseUrl=e}get baseUrl(){return this._baseUrl}set baseUrl(e){this._baseUrl=e}get options(){return this._options}set options(e){this._options=e}async get(e,n){const r=Jn(n);r.method="GET";const{data:s}=await this.raw(e,r);return s}async raw(e,n){let r;e.startsWith("http")?r=e:r=[this.baseUrl,e].map(c=>c.replace(/\/+$/,"").replace(/^\/+/,"")).join("/");const s=new Headers(this.options.headers);if(n!==void 0&&"headers"in n){const c=n.headers instanceof Headers?n.headers:new Headers(n.headers);for(const[a,l]of c)s.set(a,l)}const o={...this.options,...n};Object.keys(s).length>0&&(o.headers=s);const i=Jn(o);return ia(r,i)}}function Jn(t){const e=t??{};if(e.params&&!Array.isArray(e.params)){const n=[];for(const[r,s]of Object.entries(e.params))if(s!==void 0)if(Array.isArray(s))for(const o of s)n.push([r,o]);else n.push([r,s]);e.params=n}return e}class la{constructor(e){H(this,"client");H(this,"env");this.client=new ua(e.var("KUMA_API_URL")),this.env=e}get baseUrl(){return this.client.baseUrl}setBaseUrl(e){this.client.baseUrl=e}setOptions(e){this.client.options=e}}class Zr extends la{getInfo(){return this.client.get("")}async getStatus(){try{const{response:e}=await this.client.raw("");return e.status===200?"OK":null}catch{return null}}async getLatestVersion(){return this.client.get(this.env.var("KUMA_VERSION_URL"))}getConfig(){return this.client.get("config")}getPolicyTypes(){return this.client.get("policies")}getGlobalInsights(){return this.client.get("global-insights")}getZones(e){return this.client.get("zones",{params:e})}getZone({name:e},n){return this.client.get(`zones/${e}`,{params:n})}getAllZoneOverviews(e){return this.client.get("zones+insights",{params:e})}getZoneOverview({name:e},n){return this.client.get(`zones+insights/${e}`,{params:n})}getZoneIngressData({zoneIngressName:e,dataPath:n},r){return this.client.get(`zoneingresses/${e}/${n}`,{params:r})}getAllZoneIngressOverviews(e){return this.client.get("zoneingresses+insights",{params:e})}getZoneIngressOverview({name:e},n){return this.client.get(`zoneingresses+insights/${e}`,{params:n})}getZoneEgressData({zoneEgressName:e,dataPath:n},r){return this.client.get(`zoneegresses/${e}/${n}`,{params:r})}getAllZoneEgressOverviews(e){return this.client.get("zoneegressoverviews",{params:e})}getZoneEgressOverview({name:e},n){return this.client.get(`zoneegressoverviews/${e}`,{params:n})}getAllMeshes(e){return this.client.get("meshes",{params:e})}getMesh({name:e},n){return this.client.get(`meshes/${e}`,{params:n})}getAllMeshInsights(e){return this.client.get("mesh-insights",{params:e})}getMeshInsights({name:e},n){return this.client.get(`mesh-insights/${e}`,{params:n})}getAllDataplanes(e){return this.client.get("dataplanes",{params:e})}getDataplaneFromMesh({mesh:e,name:n},r){return this.client.get(`meshes/${e}/dataplanes/${n}`,{params:r})}getAllDataplaneOverviews(e){return this.client.get("dataplanes+insights",{params:e})}getAllDataplaneOverviewsFromMesh({mesh:e},n){return this.client.get(`meshes/${e}/dataplanes+insights`,{params:n})}getDataplaneOverviewFromMesh({mesh:e,name:n},r){return this.client.get(`meshes/${e}/dataplanes+insights/${n}`,{params:r})}getSidecarDataplanePolicies({mesh:e,name:n},r){return this.client.get(`meshes/${e}/dataplanes/${n}/policies`,{params:r})}getMeshGatewayDataplane({mesh:e,name:n},r){return this.client.get(`meshes/${e}/dataplanes/${n}/policies`,{params:r})}getDataplaneRules({mesh:e,name:n},r){return this.client.get(`meshes/${e}/dataplanes/${n}/rules`,{params:r})}getDataplaneData({mesh:e,dppName:n,dataPath:r},s){return this.client.get(`meshes/${e}/dataplanes/${n}/${r}`,{params:s})}getAllServiceInsights(e){return this.client.get("service-insights",{params:e})}getAllServiceInsightsFromMesh({mesh:e},n){return this.client.get(`meshes/${e}/service-insights`,{params:n})}getServiceInsight({mesh:e,name:n},r){return this.client.get(`meshes/${e}/service-insights/${n}`,{params:r})}getAllExternalServices(e){return this.client.get("external-services",{params:e})}getAllExternalServicesFromMesh({mesh:e},n){return this.client.get(`meshes/${e}/external-services`,{params:n})}getExternalService({mesh:e,name:n},r){return this.client.get(`meshes/${e}/external-services/${n}`,{params:r})}async getExternalServiceByServiceInsightName(e,n){const{items:r}=await this.getAllExternalServicesFromMesh({mesh:e});return Array.isArray(r)?r.find(o=>o.tags["kuma.io/service"]===n)??null:null}getPolicyConnections({mesh:e,policyType:n,policyName:r},s){return this.client.get(`meshes/${e}/${n}/${r}/dataplanes`,{params:s})}getAllPolicyEntities({path:e},n){return this.client.get(e,{params:n})}getAllPolicyEntitiesFromMesh({mesh:e,path:n},r){return this.client.get(`meshes/${e}/${n}`,{params:r})}getSinglePolicyEntity({mesh:e,path:n,name:r},s){return this.client.get(`meshes/${e}/${n}/${r}`,{params:s})}}var U={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"},N=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Object.prototype.hasOwnProperty.call(U,t)||(t=U.log),N[t].apply(N,e)};N.debug=console.debug.bind(console);N.log=console.log.bind(console);N.info=console.info.bind(console);N.warn=console.warn.bind(console);N.error=console.error.bind(console);function gt(t,e){var n=window,r;return n.Zone&&typeof n.Zone.__symbol__=="function"&&(r=t[n.Zone.__symbol__(e)]),r||(r=t[e]),r}var fa=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},vt,Qr=!1;function da(t){vt=t}function ha(t){Qr=t}function pa(t,e,n){var r=n.value;n.value=function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var i=vt?I(r):r;return i.apply(this,s)}}function I(t){return function(){return fe(t,this,arguments)}}function fe(t,e,n){try{return t.apply(e,n)}catch(r){if(tn(U.error,r),vt)try{vt(r)}catch(s){tn(U.error,s)}}}function tn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];Qr&&N.apply(void 0,fa([t,"[MONITOR]"],e,!1))}function Xe(t,e){return gt(window,"setTimeout")(I(t),e)}function ma(t){gt(window,"clearTimeout")(t)}var Ye=1e3,he=60*Ye,ga=60*he,Ke=1024,Jr=1024*Ke;function va(t,e,n){var r=n&&n.leading!==void 0?n.leading:!0,s=n&&n.trailing!==void 0?n.trailing:!0,o=!1,i,c;return{throttled:function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];if(o){i=a;return}r?t.apply(void 0,a):i=a,o=!0,c=Xe(function(){s&&i&&t.apply(void 0,i),o=!1,i=void 0},e)},cancel:function(){ma(c),o=!1,i=void 0}}}function F(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.forEach(function(r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}),t}function Ea(t){return F({},t)}function Ae(t){return t?(parseInt(t,10)^Math.random()*16>>parseInt(t,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,Ae)}function nn(t){return t!==0&&Math.random()*100<=t}function Ze(){}function Qe(t,e,n){if(typeof t!="object"||t===null)return JSON.stringify(t);var r=rt(Object.prototype),s=rt(Array.prototype),o=rt(Object.getPrototypeOf(t)),i=rt(t);try{return JSON.stringify(t,e,n)}catch{return"<error: unable to serialize object>"}finally{r(),s(),o(),i()}}function rt(t){var e=t,n=e.toJSON;return n?(delete e.toJSON,function(){e.toJSON=n}):Ze}function Le(t,e){return t.indexOf(e)!==-1}function es(t){if(Array.from)return Array.from(t);var e=[];if(t instanceof Set)t.forEach(function(r){return e.push(r)});else for(var n=0;n<t.length;n++)e.push(t[n]);return e}function ya(t,e){for(var n=0;n<t.length;n+=1){var r=t[n];if(e(r,n))return r}}function Gt(t){return _a(t)&&t>=0&&t<=100}function _a(t){return typeof t=="number"}function qe(t){return Object.keys(t).map(function(e){return t[e]})}function Sa(t){return Object.keys(t).map(function(e){return[e,t[e]]})}function ts(t){return Object.keys(t).length===0}function ns(t,e){return t.slice(0,e.length)===e}function ba(t,e){return t.slice(-e.length)===e}function En(){if(typeof globalThis=="object")return globalThis;Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:!0});var t=_dd_temp_;return delete Object.prototype._dd_temp_,typeof t!="object"&&(typeof self=="object"?t=self:typeof window=="object"?t=window:t={}),t}function Ta(){return Ia(window.location)}function Ia(t){if(t.origin)return t.origin;var e=t.host.replace(/(:80|:443)$/,"");return"".concat(t.protocol,"//").concat(e)}function Oa(t,e){var n=new RegExp("(?:^|;)\\s*".concat(e,"\\s*=\\s*([^;]+)")),r=n.exec(t);return r?r[1]:void 0}function Ra(t,e,n){n===void 0&&(n="");var r=t.charCodeAt(e-1),s=r>=55296&&r<=56319,o=s?e+1:e;return t.length<=o?t:"".concat(t.slice(0,o)).concat(n)}function rs(t){return t===null?"null":Array.isArray(t)?"array":typeof t}function Ca(){if(typeof WeakSet<"u"){var t=new WeakSet;return{hasAlreadyBeenSeen:function(n){var r=t.has(n);return r||t.add(n),r}}}var e=[];return{hasAlreadyBeenSeen:function(n){var r=e.indexOf(n)>=0;return r||e.push(n),r}}}function Et(t,e,n){if(n===void 0&&(n=Ca()),e===void 0)return t;if(typeof e!="object"||e===null)return e;if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){var r=e.flags||[e.global?"g":"",e.ignoreCase?"i":"",e.multiline?"m":"",e.sticky?"y":"",e.unicode?"u":""].join("");return new RegExp(e.source,r)}if(!n.hasAlreadyBeenSeen(e)){if(Array.isArray(e)){for(var s=Array.isArray(t)?t:[],o=0;o<e.length;++o)s[o]=Et(s[o],e[o],n);return s}var i=rs(t)==="object"?t:{};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(i[c]=Et(i[c],e[c],n));return i}}function be(t){return Et(void 0,t)}function Rt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n,r=0,s=t;r<s.length;r++){var o=s[r];o!=null&&(n=Et(n,o))}return n}function wa(t){var e=new Set;return t.forEach(function(n){return e.add(n)}),es(e)}var Aa=/[^\u0000-\u007F]/;function rn(t){return Aa.test(t)?window.TextEncoder!==void 0?new TextEncoder().encode(t).length:new Blob([t]).size:t.length}function La(t){try{return t.clone()}catch{return}}var er=Ye;function Je(t,e,n,r){var s=new Date;s.setTime(s.getTime()+n);var o="expires=".concat(s.toUTCString()),i=r&&r.crossSite?"none":"strict",c=r&&r.domain?";domain=".concat(r.domain):"",a=r&&r.secure?";secure":"";document.cookie="".concat(t,"=").concat(e,";").concat(o,";path=/;samesite=").concat(i).concat(c).concat(a)}function Z(t){return Oa(document.cookie,t)}function ss(t,e){Je(t,"",0,e)}function Na(t){if(document.cookie===void 0||document.cookie===null)return!1;try{var e="dd_cookie_test_".concat(Ae()),n="test";Je(e,n,he,t);var r=Z(e)===n;return ss(e,t),r}catch(s){return N.error(s),!1}}var Ft;function Pa(){if(Ft===void 0){for(var t="dd_site_test_".concat(Ae()),e="test",n=window.location.hostname.split("."),r=n.pop();n.length&&!Z(t);)r="".concat(n.pop(),".").concat(r),Je(t,e,Ye,{domain:r});ss(t,{domain:r}),Ft=r}return Ft}function os(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];try{return t.apply(void 0,n)}catch(s){N.error(e,s)}}}var Te;function Ma(t){Array.isArray(t)&&(Te||(Te=new Set(t)),t.filter(function(e){return typeof e=="string"}).forEach(function(e){Le(e,"-")&&N.warn("please use snake case for '".concat(e,"'")),Te.add(e)}))}function is(t){return!!Te&&Te.has(t)}function Da(){return Te||new Set}function Fe(){return new Date().getTime()}function oe(){return Fe()}function We(){return performance.now()}function et(){return{relative:We(),timeStamp:oe()}}function xa(){return{relative:0,timeStamp:as()}}function ka(t,e){return e-t}function Ua(t){return t-as()}var Vt;function as(){return Vt===void 0&&(Vt=performance.timing.navigationStart),Vt}function yt(t){return $a(t,Ta()).href}function $a(t,e){if(Ba())return e!==void 0?new URL(t,e):new URL(t);if(e===void 0&&!/:/.test(t))throw new Error("Invalid URL: '".concat(t,"'"));var n=document,r=n.createElement("a");if(e!==void 0){n=document.implementation.createHTMLDocument("");var s=n.createElement("base");s.href=e,n.head.appendChild(s),n.body.appendChild(r)}return r.href=t,r}var Ee;function Ba(){if(Ee!==void 0)return Ee;try{var t=new URL("http://test/path");return Ee=t.href==="http://test/path",Ee}catch{Ee=!1}return Ee}var Ga="datad0g.com",Ve="datadoghq.com",Fa="ap1.datadoghq.com",Va="ddog-gov.com",Ha={logs:"logs",rum:"rum",sessionReplay:"session-replay"},ja={logs:"logs",rum:"rum",sessionReplay:"replay"};function He(t,e,n){var r=za(t,e);return{build:function(s,o,i){var c=qa(t,e,n,s,o,i);return r(c)},urlPrefix:r(""),endpointType:e}}function za(t,e){var n="/api/v2/".concat(ja[e]),r=t.proxy,s=t.proxyUrl;if(r){var o=yt(r);return function(a){return"".concat(o,"?ddforward=").concat(encodeURIComponent("".concat(n,"?").concat(a)))}}var i=Ka(t,e);if(r===void 0&&s){var c=yt(s);return function(a){return"".concat(c,"?ddforward=").concat(encodeURIComponent("https://".concat(i).concat(n,"?").concat(a)))}}return function(a){return"https://".concat(i).concat(n,"?").concat(a)}}function Ka(t,e){var n=t.site,r=n===void 0?Ve:n,s=t.internalAnalyticsSubdomain;if(s&&r===Ve)return"".concat(s,".").concat(Ve);var o=r.split("."),i=o.pop(),c=r!==Fa?"".concat(Ha[e],"."):"";return"".concat(c,"browser-intake-").concat(o.join("-"),".").concat(i)}function qa(t,e,n,r,s,o){var i=t.clientToken,c=t.internalAnalyticsSubdomain,a=["sdk_version:".concat("4.34.3"),"api:".concat(r)].concat(n);s&&is("collect_flush_reason")&&a.push("flush_reason:".concat(s)),o&&a.push("retry_count:".concat(o.count),"retry_after:".concat(o.lastFailureStatus));var l=["ddsource=browser","ddtags=".concat(encodeURIComponent(a.join(","))),"dd-api-key=".concat(i),"dd-evp-origin-version=".concat(encodeURIComponent("4.34.3")),"dd-evp-origin=browser","dd-request-id=".concat(Ae())];return e==="rum"&&l.push("batch_time=".concat(oe())),c&&l.reverse(),l.join("&")}var Wa=200;function Xa(t){var e=t.env,n=t.service,r=t.version,s=t.datacenter,o=[];return e&&o.push(st("env",e)),n&&o.push(st("service",n)),r&&o.push(st("version",r)),s&&o.push(st("datacenter",s)),o}var Ya=/[^a-z0-9_:./-]/;function st(t,e){var n=Wa-t.length-1;(e.length>n||Ya.test(e))&&N.warn("".concat(t," value doesn't meet tag requirements and will be sanitized"));var r=e.replace(/,/g,"_");return"".concat(t,":").concat(r)}function Za(t){var e=Xa(t),n=Qa(t,e),r=qe(n).map(function(o){return o.urlPrefix}),s=Ja(t,r,e);return F({isIntakeUrl:function(o){return r.some(function(i){return o.indexOf(i)===0})},replica:s,site:t.site||Ve},n)}function Qa(t,e){return{logsEndpointBuilder:He(t,"logs",e),rumEndpointBuilder:He(t,"rum",e),sessionReplayEndpointBuilder:He(t,"sessionReplay",e)}}function Ja(t,e,n){if(t.replica){var r=F({},t,{site:Ve,clientToken:t.replica.clientToken}),s={logsEndpointBuilder:He(r,"logs",n),rumEndpointBuilder:He(r,"rum",n)};return e.push.apply(e,qe(s).map(function(o){return o.urlPrefix})),F({applicationId:t.replica.applicationId},s)}}function ec(t){var e,n,r;if(!t||!t.clientToken){N.error("Client Token is not configured, we will not send any data.");return}var s=(e=t.sessionSampleRate)!==null&&e!==void 0?e:t.sampleRate;if(s!==void 0&&!Gt(s)){N.error("Session Sample Rate should be a number between 0 and 100");return}if(t.telemetrySampleRate!==void 0&&!Gt(t.telemetrySampleRate)){N.error("Telemetry Sample Rate should be a number between 0 and 100");return}if(t.telemetryConfigurationSampleRate!==void 0&&!Gt(t.telemetryConfigurationSampleRate)){N.error("Telemetry Configuration Sample Rate should be a number between 0 and 100");return}return Ma(t.enableExperimentalFeatures),F({beforeSend:t.beforeSend&&os(t.beforeSend,"beforeSend threw an error:"),cookieOptions:tc(t),sessionSampleRate:s??100,telemetrySampleRate:(n=t.telemetrySampleRate)!==null&&n!==void 0?n:20,telemetryConfigurationSampleRate:(r=t.telemetryConfigurationSampleRate)!==null&&r!==void 0?r:5,service:t.service,silentMultipleInit:!!t.silentMultipleInit,batchBytesLimit:16*Ke,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*Ye,batchMessagesLimit:50,messageBytesLimit:256*Ke},Za(t))}function tc(t){var e={};return e.secure=nc(t),e.crossSite=!!t.useCrossSiteSessionCookie,t.trackSessionAcrossSubdomains&&(e.domain=Pa()),e}function nc(t){return!!t.useSecureSessionCookie||!!t.useCrossSiteSessionCookie}function rc(t){var e,n,r=(e=t.proxy)!==null&&e!==void 0?e:t.proxyUrl;return{session_sample_rate:(n=t.sessionSampleRate)!==null&&n!==void 0?n:t.sampleRate,telemetry_sample_rate:t.telemetrySampleRate,telemetry_configuration_sample_rate:t.telemetryConfigurationSampleRate,use_before_send:!!t.beforeSend,use_cross_site_session_cookie:t.useCrossSiteSessionCookie,use_secure_session_cookie:t.useSecureSessionCookie,use_proxy:r!==void 0?!!r:void 0,silent_multiple_init:t.silentMultipleInit,track_session_across_subdomains:t.trackSessionAcrossSubdomains,track_resources:t.trackResources,track_long_task:t.trackLongTasks}}var tt="?";function ie(t){var e=[],n=Ht(t,"stack"),r=String(t);return n&&ns(n,r)&&(n=n.slice(r.length)),n&&n.split(`
`).forEach(function(s){var o=ic(s)||cc(s)||lc(s)||hc(s);o&&(!o.func&&o.line&&(o.func=tt),e.push(o))}),{message:Ht(t,"message"),name:Ht(t,"name"),stack:e}}var cs="((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\\w+\\.|\\/).*?)",Ce="(?::(\\d+))",sc=new RegExp("^\\s*at (.*?) ?\\(".concat(cs).concat(Ce,"?").concat(Ce,"?\\)?\\s*$"),"i"),oc=new RegExp("\\((\\S*)".concat(Ce).concat(Ce,"\\)"));function ic(t){var e=sc.exec(t);if(e){var n=e[2]&&e[2].indexOf("native")===0,r=e[2]&&e[2].indexOf("eval")===0,s=oc.exec(e[2]);return r&&s&&(e[2]=s[1],e[3]=s[2],e[4]=s[3]),{args:n?[e[2]]:[],column:e[4]?+e[4]:void 0,func:e[1]||tt,line:e[3]?+e[3]:void 0,url:n?void 0:e[2]}}}var ac=new RegExp("^\\s*at ?".concat(cs).concat(Ce,"?").concat(Ce,"??\\s*$"),"i");function cc(t){var e=ac.exec(t);if(e)return{args:[],column:e[3]?+e[3]:void 0,func:tt,line:e[2]?+e[2]:void 0,url:e[1]}}var uc=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function lc(t){var e=uc.exec(t);if(e)return{args:[],column:e[4]?+e[4]:void 0,func:e[1]||tt,line:+e[3],url:e[2]}}var fc=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,dc=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function hc(t){var e=fc.exec(t);if(e){var n=e[3]&&e[3].indexOf(" > eval")>-1,r=dc.exec(e[3]);return n&&r&&(e[3]=r[1],e[4]=r[2],e[5]=void 0),{args:e[2]?e[2].split(","):[],column:e[5]?+e[5]:void 0,func:e[1]||tt,line:e[4]?+e[4]:void 0,url:e[3]}}}function Ht(t,e){if(!(typeof t!="object"||!t||!(e in t))){var n=t[e];return typeof n=="string"?n:void 0}}function us(t,e,n){var r=t[e],s=n(r),o=function(){if(typeof s=="function")return s.apply(this,arguments)};return t[e]=o,{stop:function(){t[e]===o?t[e]=r:s=r}}}function Ie(t,e,n){var r=n.before,s=n.after;return us(t,e,function(o){return function(){var i=arguments,c;return r&&fe(r,this,i),typeof o=="function"&&(c=o.apply(this,i)),s&&fe(s,this,i),c}})}var pc=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function mc(t){var e=gc(t).stop,n=vc(t).stop;return{stop:function(){e(),n()}}}function gc(t){return Ie(window,"onerror",{before:function(e,n,r,s,o){var i;if(o)i=ie(o),t(i,o);else{var c={url:n,column:s,line:r},a,l=e;if({}.toString.call(e)==="[object String]"){var u=pc.exec(l);u&&(a=u[1],l=u[2])}i={name:a,message:typeof l=="string"?l:void 0,stack:[c]},t(i,e)}}})}function vc(t){return Ie(window,"onunhandledrejection",{before:function(e){var n=e.reason||"Empty reason",r=ie(n);t(r,n)}})}var x={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function Ec(t){var e=t.stackTrace,n=t.originalError,r=t.handlingStack,s=t.startClocks,o=t.nonErrorPrefix,i=t.source,c=t.handling;return!e||e.message===void 0&&!(n instanceof Error)?{startClocks:s,source:i,handling:c,originalError:n,message:"".concat(o," ").concat(Qe(n)),stack:"No stack, consider using an instance of Error",handlingStack:r,type:e&&e.name}:{startClocks:s,source:i,handling:c,originalError:n,message:e.message||"Empty message",stack:pe(e),handlingStack:r,type:e.name,causes:Sc(n,i)}}function pe(t){var e=ls(t);return t.stack.forEach(function(n){var r=n.func==="?"?"<anonymous>":n.func,s=n.args&&n.args.length>0?"(".concat(n.args.join(", "),")"):"",o=n.line?":".concat(n.line):"",i=n.line&&n.column?":".concat(n.column):"";e+=`
  at `.concat(r).concat(s," @ ").concat(n.url).concat(o).concat(i)}),e}function yc(t){var e;return(e=/@ (.+)/.exec(t))===null||e===void 0?void 0:e[1]}function ls(t){return"".concat(t.name||"Error",": ").concat(t.message)}function _c(){var t=2,e=new Error,n;if(!e.stack)try{throw e}catch{}return fe(function(){var r=ie(e);r.stack=r.stack.slice(t),n=pe(r)}),n}function Sc(t,e){for(var n=t,r=[];(n==null?void 0:n.cause)instanceof Error&&r.length<10;){var s=ie(n.cause);r.push({message:n.cause.message,source:e,type:s==null?void 0:s.name,stack:s&&pe(s)}),n=n.cause}return r.length?r:void 0}function bc(t){return mc(function(e,n){t.notify(Ec({stackTrace:e,originalError:n,startClocks:et(),nonErrorPrefix:"Uncaught",source:x.SOURCE,handling:"unhandled"}))})}function Tc(t){var e=F({version:"4.34.3",onReady:function(n){n()}},t);return Object.defineProperty(e,"_setDebug",{get:function(){return ha},enumerable:!1}),e}function Ic(t,e,n){var r=t[e];t[e]=n,r&&r.q&&r.q.forEach(function(s){return os(s,"onReady callback threw an error:")()})}var z=function(){function t(e){this.onFirstSubscribe=e,this.observers=[]}return t.prototype.subscribe=function(e){var n=this;return!this.observers.length&&this.onFirstSubscribe&&(this.onLastUnsubscribe=this.onFirstSubscribe()||void 0),this.observers.push(e),{unsubscribe:function(){n.observers=n.observers.filter(function(r){return e!==r}),!n.observers.length&&n.onLastUnsubscribe&&n.onLastUnsubscribe()}}},t.prototype.notify=function(e){this.observers.forEach(function(n){return n(e)})},t}();function fs(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=new z(function(){var r=t.map(function(s){return s.subscribe(function(o){return n.notify(o)})});return function(){return r.forEach(function(s){return s.unsubscribe()})}});return n}function yn(t,e,n,r){return _n(t,[e],n,r)}function _n(t,e,n,r){var s=r===void 0?{}:r,o=s.once,i=s.capture,c=s.passive,a=I(o?function(d){f(),n(d)}:n),l=c?{capture:i,passive:c}:i,u=gt(t,"addEventListener");e.forEach(function(d){return u.call(t,d,a,l)});function f(){var d=gt(t,"removeEventListener");e.forEach(function(h){return d.call(t,h,a,l)})}return{stop:f}}var re={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function Oc(t){var e=[];Le(t,re.cspViolation)&&e.push(Cc());var n=t.filter(function(r){return r!==re.cspViolation});return n.length&&e.push(Rc(n)),fs.apply(void 0,e)}function Rc(t){var e=new z(function(){if(window.ReportingObserver){var n=I(function(s){return s.forEach(function(o){e.notify(wc(o))})}),r=new window.ReportingObserver(n,{types:t,buffered:!0});return r.observe(),function(){r.disconnect()}}});return e}function Cc(){var t=new z(function(){var e=I(function(r){t.notify(Ac(r))}),n=yn(document,"securitypolicyviolation",e).stop;return n});return t}function wc(t){var e=t.type,n=t.body;return{type:e,subtype:n.id,message:"".concat(e,": ").concat(n.message),stack:ds(n.id,n.message,n.sourceFile,n.lineNumber,n.columnNumber)}}function Ac(t){var e=re.cspViolation,n="'".concat(t.blockedURI,"' blocked by '").concat(t.effectiveDirective,"' directive");return{type:re.cspViolation,subtype:t.effectiveDirective,message:"".concat(e,": ").concat(n),stack:ds(t.effectiveDirective,t.originalPolicy?"".concat(n,' of the policy "').concat(Ra(t.originalPolicy,100,"..."),'"'):"no policy",t.sourceFile,t.lineNumber,t.columnNumber)}}function ds(t,e,n,r,s){return n&&pe({name:t,message:e,stack:[{func:"?",url:n,line:r,column:s}]})}function hs(t,e){var n=window.__ddBrowserSdkExtensionCallback;n&&n({type:t,payload:e})}var Sn={log:"log",configuration:"configuration"},Lc=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","http://localhost","<anonymous>"],Nc=[Va],Y={maxEventsPerPage:0,sentEventCount:0,telemetryEnabled:!1,telemetryConfigurationEnabled:!1},sn;function Pc(t,e){var n,r=new z;Y.telemetryEnabled=!Le(Nc,e.site)&&nn(e.telemetrySampleRate),Y.telemetryConfigurationEnabled=Y.telemetryEnabled&&nn(e.telemetryConfigurationSampleRate),sn=function(o){if(Y.telemetryEnabled){var i=s(t,o);r.notify(i),hs("telemetry",i)}},da(ps),F(Y,{maxEventsPerPage:e.maxTelemetryEventsPerPage,sentEventCount:0});function s(o,i){return Rt({type:"telemetry",date:oe(),service:o,version:"4.34.3",source:"browser",_dd:{format_version:2},telemetry:i,experimental_features:es(Da())},n!==void 0?n():{})}return{setContextProvider:function(o){n=o},observable:r,enabled:Y.telemetryEnabled}}function Mc(t){return t.site===Ga}function Dc(t,e){tn(U.debug,t,e),bn(F({type:Sn.log,message:t,status:"debug"},e))}function ps(t){bn(F({type:Sn.log,status:"error"},kc(t)))}function xc(t){Y.telemetryConfigurationEnabled&&bn({type:Sn.configuration,configuration:t})}function bn(t){sn&&Y.sentEventCount<Y.maxEventsPerPage&&(Y.sentEventCount+=1,sn(t))}function kc(t){if(t instanceof Error){var e=ie(t);return{error:{kind:e.name,stack:pe(Uc(e))},message:e.message}}return{error:{stack:"Not an instance of error"},message:"Uncaught ".concat(Qe(t))}}function Uc(t){return t.stack=t.stack.filter(function(e){return!e.url||Lc.some(function(n){return ns(e.url,n)})}),t}var ot=1/0,$c=he,Bc=function(){function t(e){var n=this;this.expireDelay=e,this.entries=[],this.clearOldContextsInterval=setInterval(function(){return n.clearOldContexts()},$c)}return t.prototype.add=function(e,n){var r=this,s={context:e,startTime:n,endTime:ot,remove:function(){var o=r.entries.indexOf(s);o>=0&&r.entries.splice(o,1)},close:function(o){s.endTime=o}};return this.entries.unshift(s),s},t.prototype.find=function(e){e===void 0&&(e=ot);for(var n=0,r=this.entries;n<r.length;n++){var s=r[n];if(s.startTime<=e){if(e<=s.endTime)return s.context;break}}},t.prototype.closeActive=function(e){var n=this.entries[0];n&&n.endTime===ot&&n.close(e)},t.prototype.findAll=function(e){return e===void 0&&(e=ot),this.entries.filter(function(n){return n.startTime<=e&&e<=n.endTime}).map(function(n){return n.context})},t.prototype.reset=function(){this.entries=[]},t.prototype.stop=function(){clearInterval(this.clearOldContextsInterval)},t.prototype.clearOldContexts=function(){for(var e=We()-this.expireDelay;this.entries.length>0&&this.entries[this.entries.length-1].endTime<e;)this.entries.pop()},t}();function Gc(){return!!window.chrome||/HeadlessChrome/.test(window.navigator.userAgent)}var ms=4*ga,gs=15*he,vs=/^([a-z]+)=([a-z0-9-]+)$/,Tn="&",Ct="_dd_s",Fc=10,Vc=100,Es=[],dt;function je(t,e){var n;if(e===void 0&&(e=0),dt||(dt=t),t!==dt){Es.push(t);return}if(e>=Vc){tr();return}var r,s=Ue();if(jt()){if(s.lock){it(t,e);return}if(r=Ae(),s.lock=r,on(s,t.options),s=Ue(),s.lock!==r){it(t,e);return}}var o=t.process(s);if(jt()&&(s=Ue(),s.lock!==r)){it(t,e);return}if(o&&ys(o,t.options),jt()&&!(o&&_s(o))){if(s=Ue(),s.lock!==r){it(t,e);return}delete s.lock,on(s,t.options),o=s}(n=t.after)===null||n===void 0||n.call(t,o||s),tr()}function jt(){return Gc()}function it(t,e){Xe(function(){je(t,e+1)},Fc)}function tr(){dt=void 0;var t=Es.shift();t&&je(t)}function ys(t,e){if(_s(t)){zc(e);return}t.expire=String(Fe()+gs),on(t,e)}function on(t,e){Je(Ct,Hc(t),gs,e)}function Hc(t){return Sa(t).map(function(e){var n=e[0],r=e[1];return"".concat(n,"=").concat(r)}).join(Tn)}function Ue(){var t=Z(Ct),e={};return jc(t)&&t.split(Tn).forEach(function(n){var r=vs.exec(n);if(r!==null){var s=r[1],o=r[2];e[s]=o}}),e}function jc(t){return t!==void 0&&(t.indexOf(Tn)!==-1||vs.test(t))}function _s(t){return ts(t)}function zc(t){Je(Ct,"",0,t)}var Kc="_dd",qc="_dd_r",Wc="_dd_l",Xc="rum",Yc="logs";function Zc(t){var e=Z(Ct),n=Z(Kc),r=Z(qc),s=Z(Wc);if(!e){var o={};n&&(o.id=n),s&&/^[01]$/.test(s)&&(o[Yc]=s),r&&/^[012]$/.test(r)&&(o[Xc]=r),ys(o,t)}}function Qc(t,e,n){var r=new z,s=new z,o=setInterval(I(l),er),i=S();function c(){var m;je({options:t,process:function(A){var P=u(A);return m=f(P),P},after:function(A){m&&!d()&&_(A),i=A}})}function a(){je({options:t,process:function(m){return d()?u(m):void 0}})}function l(){je({options:t,process:function(m){return b(m)?void 0:{}},after:u})}function u(m){return b(m)||(m={}),d()&&(h(m)?v():i=m),m}function f(m){var A=n(m[e]),P=A.trackingType,k=A.isTracked;return m[e]=P,k&&!m.id&&(m.id=Ae(),m.created=String(Fe())),k}function d(){return i[e]!==void 0}function h(m){return i.id!==m.id||i[e]!==m[e]}function v(){i={},s.notify()}function _(m){i=m,r.notify()}function S(){var m=Ue();return b(m)?m:{}}function b(m){return(m.created===void 0||Fe()-Number(m.created)<ms)&&(m.expire===void 0||Fe()<Number(m.expire))}return{expandOrRenewSession:va(c,er).throttled,expandSession:a,getSession:function(){return i},renewObservable:r,expireObservable:s,stop:function(){clearInterval(o)}}}var Jc=he,eu=ms;function tu(t,e,n){Zc(t);var r=Qc(t,e,n),s=new Bc(eu);r.renewObservable.subscribe(function(){s.add(o(),We())}),r.expireObservable.subscribe(function(){s.closeActive(We())}),r.expandOrRenewSession(),s.add(o(),xa().relative),nu(function(){return r.expandOrRenewSession()}),ru(function(){return r.expandSession()});function o(){return{id:r.getSession().id,trackingType:r.getSession()[e]}}return{findActiveSession:function(i){return s.find(i)},renewObservable:r.renewObservable,expireObservable:r.expireObservable}}function nu(t){_n(window,["click","touchstart","keydown","scroll"],t,{capture:!0,passive:!0}).stop}function ru(t){var e=I(function(){document.visibilityState==="visible"&&t()});yn(document,"visibilitychange",e).stop,setInterval(e,Jc)}var su=80*Ke,ou=32,Ss=3*Jr,iu=he,bs=Ye;function Ts(t,e,n,r,s){e.transportStatus===0&&e.queuedPayloads.size()===0&&e.bandwidthMonitor.canHandle(t)?Os(t,e,n,{onSuccess:function(){return Rs(0,e,n,r,s)},onFailure:function(){e.queuedPayloads.enqueue(t),Is(e,n,r,s)}}):e.queuedPayloads.enqueue(t)}function Is(t,e,n,r){t.transportStatus===2&&Xe(function(){var s=t.queuedPayloads.first();Os(s,t,e,{onSuccess:function(){t.queuedPayloads.dequeue(),t.currentBackoffTime=bs,Rs(1,t,e,n,r)},onFailure:function(){t.currentBackoffTime=Math.min(iu,t.currentBackoffTime*2),Is(t,e,n,r)}})},t.currentBackoffTime)}function Os(t,e,n,r){var s=r.onSuccess,o=r.onFailure;e.bandwidthMonitor.add(t),n(t,function(i){e.bandwidthMonitor.remove(t),au(i)?(e.transportStatus=e.bandwidthMonitor.ongoingRequestCount>0?1:2,t.retry={count:t.retry?t.retry.count+1:1,lastFailureStatus:i.status},o()):(e.transportStatus=0,s())})}function Rs(t,e,n,r,s){t===0&&e.queuedPayloads.isFull()&&!e.queueFullReported&&(s({message:"Reached max ".concat(r," events size queued for upload: ").concat(Ss/Jr,"MiB"),source:x.AGENT,startClocks:et()}),e.queueFullReported=!0);var o=e.queuedPayloads;for(e.queuedPayloads=Cs();o.size()>0;)Ts(o.dequeue(),e,n,r,s)}function au(t){return t.type!=="opaque"&&(t.status===0&&!navigator.onLine||t.status===408||t.status===429||t.status>=500)}function cu(){return{transportStatus:0,currentBackoffTime:bs,bandwidthMonitor:uu(),queuedPayloads:Cs(),queueFullReported:!1}}function Cs(){var t=[];return{bytesCount:0,enqueue:function(e){this.isFull()||(t.push(e),this.bytesCount+=e.bytesCount)},first:function(){return t[0]},dequeue:function(){var e=t.shift();return e&&(this.bytesCount-=e.bytesCount),e},size:function(){return t.length},isFull:function(){return this.bytesCount>=Ss}}}function uu(){return{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(t){return this.ongoingRequestCount===0||this.ongoingByteCount+t.bytesCount<=su&&this.ongoingRequestCount<ou},add:function(t){this.ongoingRequestCount+=1,this.ongoingByteCount+=t.bytesCount},remove:function(t){this.ongoingRequestCount-=1,this.ongoingByteCount-=t.bytesCount}}}function lu(t,e,n){var r=cu(),s=function(o,i){return hu(t,e,o,i)};return{send:function(o){Ts(o,r,s,t.endpointType,n)},sendOnExit:function(o){fu(t,e,o)}}}function fu(t,e,n){var r=n.data,s=n.bytesCount,o=n.flushReason,i=!!navigator.sendBeacon&&s<e;if(i)try{var c=t.build("beacon",o),a=navigator.sendBeacon(c,r);if(a)return}catch(u){du(u)}var l=t.build("xhr",o);an(l,r)}var nr=!1;function du(t){nr||(nr=!0,ps(t))}function hu(t,e,n,r){var s=n.data,o=n.bytesCount,i=n.flushReason,c=n.retry,a=pu()&&o<e;if(a){var l=t.build("fetch",i,c);fetch(l,{method:"POST",body:s,keepalive:!0,mode:"cors"}).then(I(function(f){return r==null?void 0:r({status:f.status,type:f.type})}),I(function(){var f=t.build("xhr",i,c);an(f,s,r)}))}else{var u=t.build("xhr",i,c);an(u,s,r)}}function pu(){try{return window.Request&&"keepalive"in new Request("http://a")}catch{return!1}}function an(t,e,n){var r=new XMLHttpRequest,s=I(function(){r.removeEventListener("loadend",s),n==null||n({status:r.status})});r.open("POST",t,!0),r.addEventListener("loadend",s),r.send(e)}var mu=function(){function t(e,n,r,s,o,i){var c=this;this.request=e,this.batchMessagesLimit=n,this.batchBytesLimit=r,this.messageBytesLimit=s,this.flushTimeout=o,this.pageExitObservable=i,this.flushObservable=new z,this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,i.subscribe(function(a){return c.flush(a.reason,c.request.sendOnExit)}),this.flushPeriodically()}return t.prototype.add=function(e){this.addOrUpdate(e)},t.prototype.upsert=function(e,n){this.addOrUpdate(e,n)},t.prototype.flush=function(e,n){if(n===void 0&&(n=this.request.send),this.bufferMessagesCount!==0){var r=this.pushOnlyBuffer.concat(qe(this.upsertBuffer)),s=this.bufferBytesCount;this.flushObservable.notify({bufferBytesCount:this.bufferBytesCount,bufferMessagesCount:this.bufferMessagesCount}),this.pushOnlyBuffer=[],this.upsertBuffer={},this.bufferBytesCount=0,this.bufferMessagesCount=0,n({data:r.join(`
`),bytesCount:s,flushReason:e})}},t.prototype.addOrUpdate=function(e,n){var r=this.process(e),s=r.processedMessage,o=r.messageBytesCount;if(o>=this.messageBytesLimit){N.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB."));return}this.hasMessageFor(n)&&this.remove(n),this.willReachedBytesLimitWith(o)&&this.flush("batch_bytes_limit"),this.push(s,o,n),this.isFull()&&this.flush("batch_bytes_limit")},t.prototype.process=function(e){var n=Qe(e),r=rn(n);return{processedMessage:n,messageBytesCount:r}},t.prototype.push=function(e,n,r){this.bufferMessagesCount>0&&(this.bufferBytesCount+=1),r!==void 0?this.upsertBuffer[r]=e:this.pushOnlyBuffer.push(e),this.bufferBytesCount+=n,this.bufferMessagesCount+=1},t.prototype.remove=function(e){var n=this.upsertBuffer[e];delete this.upsertBuffer[e];var r=rn(n);this.bufferBytesCount-=r,this.bufferMessagesCount-=1,this.bufferMessagesCount>0&&(this.bufferBytesCount-=1)},t.prototype.hasMessageFor=function(e){return e!==void 0&&this.upsertBuffer[e]!==void 0},t.prototype.willReachedBytesLimitWith=function(e){return this.bufferBytesCount+e+1>=this.batchBytesLimit},t.prototype.isFull=function(){return this.bufferMessagesCount===this.batchMessagesLimit||this.bufferBytesCount>=this.batchBytesLimit},t.prototype.flushPeriodically=function(){var e=this;Xe(function(){e.flush("batch_duration_limit"),e.flushPeriodically()},this.flushTimeout)},t}();function In(){var t=gu();if(t)return{getAllowedWebViewHosts:function(){return JSON.parse(t.getAllowedWebViewHosts())},send:function(e,n){t.send(JSON.stringify({eventType:e,event:n}))}}}function _t(t){var e;t===void 0&&(t=(e=En().location)===null||e===void 0?void 0:e.hostname);var n=In();return!!n&&n.getAllowedWebViewHosts().some(function(r){return t===r||ba(t,".".concat(r))})}function gu(){return En().DatadogEventBridge}function ws(t,e,n,r,s){var o=c(e),i;s&&(i=c(s));function c(a){return new mu(lu(a,t.batchBytesLimit,n),t.batchMessagesLimit,t.batchBytesLimit,t.messageBytesLimit,t.flushTimeout,r)}return{add:function(a,l){l===void 0&&(l=!0),o.add(a),i&&l&&i.add(a)}}}function vu(t,e,n){var r=0,s=!1;return{isLimitReached:function(){if(r===0&&Xe(function(){r=0},he),r+=1,r<=e||s)return s=!1,!1;if(r===e+1){s=!0;try{n({message:"Reached max number of ".concat(t,"s by minute: ").concat(e),source:x.AGENT,startClocks:et()})}finally{s=!1}}return!0}}}var zt,On=new WeakMap;function Eu(){return zt||(zt=yu()),zt}function yu(){var t=new z(function(){var e=Ie(XMLHttpRequest.prototype,"open",{before:_u}).stop,n=Ie(XMLHttpRequest.prototype,"send",{before:function(){Su.call(this,t)}}).stop,r=Ie(XMLHttpRequest.prototype,"abort",{before:bu}).stop;return function(){e(),n(),r()}});return t}function _u(t,e){On.set(this,{state:"open",method:t,url:yt(String(e))})}function Su(t){var e=this,n=On.get(this);if(n){var r=n;r.state="start",r.startTime=We(),r.startClocks=et(),r.isAborted=!1,r.xhr=this;var s=!1,o=Ie(this,"onreadystatechange",{before:function(){this.readyState===XMLHttpRequest.DONE&&i()}}).stop,i=I(function(){if(e.removeEventListener("loadend",i),o(),!s){s=!0;var c=n;c.state="complete",c.duration=ka(r.startClocks.timeStamp,oe()),c.status=e.status,t.notify(Ea(c))}});this.addEventListener("loadend",i),t.notify(r)}}function bu(){var t=On.get(this);t&&(t.isAborted=!0)}var Kt;function Tu(){return Kt||(Kt=Iu()),Kt}function Iu(){var t=new z(function(){if(window.fetch){var e=us(window,"fetch",function(n){return function(r,s){var o,i=fe(Ou,null,[t,r,s]);return i?(o=n.call(this,i.input,i.init),fe(Ru,null,[t,o,i])):o=n.call(this,r,s),o}}).stop;return e}});return t}function Ou(t,e,n){var r=n&&n.method||typeof e=="object"&&e.method||"GET",s=yt(typeof e=="object"&&e.url||e),o=et(),i={state:"start",init:n,input:e,method:r,startClocks:o,url:s};return t.notify(i),i}function Ru(t,e,n){var r=function(s){var o=n;o.state="resolve","stack"in s||s instanceof Error?(o.status=0,o.isAborted=s instanceof DOMException&&s.code===DOMException.ABORT_ERR,o.error=s):"status"in s&&(o.response=s,o.responseType=s.type,o.status=s.status,o.isAborted=!1),t.notify(o)};e.then(I(r),I(r))}var at={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function Cu(){var t=new z(function(){var e=is("pagehide"),n=_n(window,["visibilitychange","freeze","pagehide"],function(s){s.type==="pagehide"&&e?t.notify({reason:at.PAGEHIDE}):s.type==="visibilitychange"&&document.visibilityState==="hidden"?t.notify({reason:at.HIDDEN}):s.type==="freeze"&&t.notify({reason:at.FROZEN})},{capture:!0}).stop,r=Ze;return e||(r=yn(window,"beforeunload",function(){t.notify({reason:at.UNLOADING})}).stop),function(){n(),r()}});return t}var qt={};function wu(t){var e=t.map(function(n){return qt[n]||(qt[n]=Au(n)),qt[n]});return fs.apply(void 0,e)}function Au(t){var e=new z(function(){var n=console[t];return console[t]=function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];n.apply(console,r);var o=_c();fe(function(){e.notify(Lu(r,t,o))})},function(){console[t]=n}});return e}function Lu(t,e,n){var r=t.map(function(i){return Nu(i)}).join(" "),s;if(e===U.error){var o=ya(t,function(i){return i instanceof Error});s=o?pe(ie(o)):void 0,r="console error: ".concat(r)}return{api:e,message:r,stack:s,handlingStack:n}}function Nu(t){return typeof t=="string"?t:t instanceof Error?ls(ie(t)):Qe(t,void 0,2)}var Pu=500,Mu=function(){function t(){this.buffer=[]}return t.prototype.add=function(e){var n=this.buffer.push(e);n>Pu&&this.buffer.splice(0,1)},t.prototype.drain=function(){this.buffer.forEach(function(e){return e()}),this.buffer.length=0},t}();function cn(t){t===void 0&&(t=rn);var e={},n;return{getBytesCount:function(){return n===void 0&&(n=t(Qe(e))),n},get:function(){return e},add:function(r,s){e[r]=s,n=void 0},remove:function(r){delete e[r],n=void 0},set:function(r){e=r,n=void 0},getContext:function(){return be(e)},setContext:function(r){e=be(r),n=void 0},setContextProperty:function(r,s){e[r]=be(s),n=void 0},removeContextProperty:function(r){delete e[r],n=void 0},clearContext:function(){e={},n=void 0}}}function Du(t,e,n){var r=t.getReader(),s=[],o=0;i();function i(){r.read().then(I(function(a){if(a.done){c();return}n.collectStreamBody&&s.push(a.value),o+=a.value.length,o>n.bytesLimit?c():i()}),I(function(a){return e(a)}))}function c(){r.cancel().catch(Ze);var a,l;if(n.collectStreamBody){var u;if(s.length===1)u=s[0];else{u=new Uint8Array(o);var f=0;s.forEach(function(d){u.set(d,f),f+=d.length})}a=u.slice(0,n.bytesLimit),l=u.length>n.bytesLimit}e(void 0,a,l)}}var xu="datadog-synthetics-public-id",ku="datadog-synthetics-result-id",Uu="datadog-synthetics-injects-rum";function As(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||Z(Uu))}function $u(){var t=window._DATADOG_SYNTHETICS_PUBLIC_ID||Z(xu);return typeof t=="string"?t:void 0}function Bu(){var t=window._DATADOG_SYNTHETICS_RESULT_ID||Z(ku);return typeof t=="string"?t:void 0}function rr(t){var e=F({},t),n=["id","name","email"];return n.forEach(function(r){r in e&&(e[r]=String(e[r]))}),e}function Gu(t){var e=rs(t)==="object";return e||N.error("Unsupported user:",t),e}var Fu=32*Ke;function Vu(t){var e=ec(t),n=sr(t.forwardConsoleLogs,qe(U),"Forward Console Logs"),r=sr(t.forwardReports,qe(re),"Forward Reports");if(!(!e||!n||!r))return t.forwardErrorsToLogs&&!Le(n,U.error)&&n.push(U.error),F({forwardErrorsToLogs:t.forwardErrorsToLogs!==!1,forwardConsoleLogs:n,forwardReports:r,requestErrorResponseLengthLimit:Fu},e)}function sr(t,e,n){if(t===void 0)return[];if(!(t==="all"||Array.isArray(t)&&t.every(function(r){return Le(e,r)}))){N.error("".concat(n,' should be "all" or an array with allowed values "').concat(e.join('", "'),'"'));return}return t==="all"?e:wa(t)}function Hu(t){var e=rc(t);return F({forward_errors_to_logs:t.forwardErrorsToLogs,forward_console_logs:t.forwardConsoleLogs,forward_reports:t.forwardReports},e)}var ju=globalThis&&globalThis.__decorate||function(t,e,n,r){var s=arguments.length,o=s<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o},L={debug:"debug",error:"error",info:"info",warn:"warn"},Rn={console:"console",http:"http",silent:"silent"},zu=Object.keys(L),or=function(){function t(e,n,r,s,o){r===void 0&&(r=Rn.http),s===void 0&&(s=L.debug),o===void 0&&(o={}),this.handleLogStrategy=e,this.handlerType=r,this.level=s,this.contextManager=cn(),this.contextManager.set(F({},o,n?{logger:{name:n}}:void 0))}return t.prototype.log=function(e,n,r){r===void 0&&(r=L.info),this.handleLogStrategy({message:e,context:be(n),status:r},this)},t.prototype.debug=function(e,n){this.log(e,n,L.debug)},t.prototype.info=function(e,n){this.log(e,n,L.info)},t.prototype.warn=function(e,n){this.log(e,n,L.warn)},t.prototype.error=function(e,n){var r={error:{origin:x.LOGGER}};this.log(e,Rt(r,n),L.error)},t.prototype.setContext=function(e){this.contextManager.set(e)},t.prototype.getContext=function(){return this.contextManager.get()},t.prototype.addContext=function(e,n){this.contextManager.add(e,n)},t.prototype.removeContext=function(e){this.contextManager.remove(e)},t.prototype.setHandler=function(e){this.handlerType=e},t.prototype.getHandler=function(){return this.handlerType},t.prototype.setLevel=function(e){this.level=e},t.prototype.getLevel=function(){return this.level},ju([pa],t.prototype,"log",null),t}();function Ku(t){var e=!1,n=cn(),r=cn(),s={},o=function(){},i=new Mu,c=function(h,v,_,S){_===void 0&&(_=be(u())),S===void 0&&(S=oe()),i.add(function(){return c(h,v,_,S)})},a=function(){},l=new or(function(){for(var h=[],v=0;v<arguments.length;v++)h[v]=arguments[v];return c.apply(void 0,h)});function u(){return{view:{referrer:document.referrer,url:window.location.href},context:n.getContext(),user:r.getContext()}}return Tc({logger:l,init:I(function(h){var v;if(a=function(){return be(h)},_t()&&(h=f(h)),!!d(h)){var _=Vu(h);_&&(v=t(h,_,u,l),c=v.handleLog,o=v.getInternalContext,i.drain(),e=!0)}}),getLoggerGlobalContext:I(n.get),getGlobalContext:I(n.getContext),setLoggerGlobalContext:I(n.set),setGlobalContext:I(n.setContext),addLoggerGlobalContext:I(n.add),setGlobalContextProperty:I(n.setContextProperty),removeLoggerGlobalContext:I(n.remove),removeGlobalContextProperty:I(n.removeContextProperty),clearGlobalContext:I(n.clearContext),createLogger:I(function(h,v){return v===void 0&&(v={}),s[h]=new or(function(){for(var _=[],S=0;S<arguments.length;S++)_[S]=arguments[S];return c.apply(void 0,_)},h,v.handler,v.level,v.context),s[h]}),getLogger:I(function(h){return s[h]}),getInitConfiguration:I(function(){return a()}),getInternalContext:I(function(h){return o(h)}),setUser:I(function(h){Gu(h)&&r.setContext(rr(h))}),getUser:I(r.getContext),setUserProperty:I(function(h,v){var _,S=rr((_={},_[h]=v,_))[h];r.setContextProperty(h,S)}),removeUserProperty:I(r.removeContextProperty),clearUser:I(r.clearContext)});function f(h){return F({},h,{clientToken:"empty"})}function d(h){return e?(h.silentMultipleInit||N.error("DD_LOGS is already initialized."),!1):!0}}var qu="logs";function Wu(t){var e=tu(t.cookieOptions,qu,function(n){return Yu(t,n)});return{findTrackedSession:function(n){var r=e.findActiveSession(n);return r&&r.trackingType==="1"?{id:r.id}:void 0}}}function Xu(t){var e=Ls(t)==="1",n=e?{}:void 0;return{findTrackedSession:function(){return n}}}function Ls(t){return nn(t.sessionSampleRate)?"1":"0"}function Yu(t,e){var n=Zu(e)?e:Ls(t);return{trackingType:n,isTracked:n==="1"}}function Zu(t){return t==="0"||t==="1"}var ye,ir=(ye={},ye[L.debug]=0,ye[L.info]=1,ye[L.warn]=2,ye[L.error]=3,ye);function Qu(t){function e(n,r,s,o){var i=n.context;Ns(n.status,Rn.console,r)&&N(n.status,n.message,Rt(r.getContext(),i)),t.notify(0,{rawLogsEvent:{date:o||oe(),message:n.message,status:n.status,origin:x.LOGGER},messageContext:i,savedCommonContext:s,logger:r})}return{handleLog:e}}function Ns(t,e,n){var r=n.getHandler(),s=Array.isArray(r)?r:[r];return ir[t]>=ir[n.getLevel()]&&Le(s,e)}function Ju(t,e,n,r,s,o){var i=zu.concat(["custom"]),c={};i.forEach(function(a){c[a]=vu(a,e.eventRateLimiterThreshold,o)}),n.subscribe(0,function(a){var l,u,f,d=a.rawLogsEvent,h=a.messageContext,v=h===void 0?void 0:h,_=a.savedCommonContext,S=_===void 0?void 0:_,b=a.logger,m=b===void 0?s:b,A=Ua(d.date),P=t.findTrackedSession(A);if(P){var k=S||r(),$=Rt({service:e.service,session_id:P.id,usr:ts(k.user)?void 0:k.user,view:k.view},k.context,ht(A),d,m.getContext(),v);!Ns(d.status,Rn.http,m)||((l=e.beforeSend)===null||l===void 0?void 0:l.call(e,$))===!1||((u=$.error)===null||u===void 0?void 0:u.origin)!==x.AGENT&&((f=c[$.status])!==null&&f!==void 0?f:c.custom).isLimitReached()||n.notify(1,$)}})}var ar=!1;function ht(t){var e=window;if(As()){var n=r(e.DD_RUM_SYNTHETICS);return!n&&!ar&&(ar=!0,Dc("Logs sent before RUM is injected by the synthetics worker",{testId:$u(),resultId:Bu()})),n}return r(e.DD_RUM);function r(s){if(s&&s.getInternalContext)return s.getInternalContext(t)}}var ce,el=(ce={},ce[U.log]=L.info,ce[U.debug]=L.debug,ce[U.info]=L.info,ce[U.warn]=L.warn,ce[U.error]=L.error,ce);function tl(t,e){var n=wu(t.forwardConsoleLogs).subscribe(function(r){e.notify(0,{rawLogsEvent:{date:oe(),message:r.message,origin:x.CONSOLE,error:r.api===U.error?{origin:x.CONSOLE,stack:r.stack}:void 0,status:el[r.api]}})});return{stop:function(){n.unsubscribe()}}}var xe,nl=(xe={},xe[re.cspViolation]=L.error,xe[re.intervention]=L.error,xe[re.deprecation]=L.warn,xe);function rl(t,e){var n=Oc(t.forwardReports).subscribe(function(r){var s=r.message,o=nl[r.type],i;o===L.error?i={kind:r.subtype,origin:x.REPORT,stack:r.stack}:r.stack&&(s+=" Found in ".concat(yc(r.stack))),e.notify(0,{rawLogsEvent:{date:oe(),message:s,origin:x.REPORT,error:i,status:o}})});return{stop:function(){n.unsubscribe()}}}function sl(t,e){if(!t.forwardErrorsToLogs)return{stop:Ze};var n=Eu().subscribe(function(o){o.state==="complete"&&s("xhr",o)}),r=Tu().subscribe(function(o){o.state==="resolve"&&s("fetch",o)});function s(o,i){!t.isIntakeUrl(i.url)&&(cl(i)||ul(i))&&("xhr"in i?ol(i.xhr,t,c):i.response?al(i.response,t,c):i.error&&il(i.error,t,c));function c(a){e.notify(0,{rawLogsEvent:{message:"".concat(ll(o)," error ").concat(i.method," ").concat(i.url),date:i.startClocks.timeStamp,error:{origin:x.NETWORK,stack:a||"Failed to load"},http:{method:i.method,status_code:i.status,url:i.url},status:L.error,origin:x.NETWORK}})}}return{stop:function(){n.unsubscribe(),r.unsubscribe()}}}function ol(t,e,n){typeof t.response=="string"?n(Cn(t.response,e)):n(t.response)}function il(t,e,n){n(Cn(pe(ie(t)),e))}function al(t,e,n){var r=La(t);!r||!r.body?n():window.TextDecoder?fl(r.body,e.requestErrorResponseLengthLimit,function(s,o){n(s?"Unable to retrieve response: ".concat(s):o)}):r.text().then(I(function(s){return n(Cn(s,e))}),I(function(s){return n("Unable to retrieve response: ".concat(s))}))}function cl(t){return t.status===0&&t.responseType!=="opaque"}function ul(t){return t.status>=500}function Cn(t,e){return t.length>e.requestErrorResponseLengthLimit?"".concat(t.substring(0,e.requestErrorResponseLengthLimit),"..."):t}function ll(t){return t==="xhr"?"XHR":"Fetch"}function fl(t,e,n){Du(t,function(r,s,o){if(r)n(r);else{var i=new TextDecoder().decode(s);o&&(i+="..."),n(void 0,i)}},{bytesLimit:e,collectStreamBody:!0})}function dl(t,e){if(!t.forwardErrorsToLogs)return{stop:Ze};var n=new z,r=bc(n).stop,s=n.subscribe(function(o){e.notify(0,{rawLogsEvent:{message:o.message,date:o.startClocks.timeStamp,error:{kind:o.type,origin:x.SOURCE,stack:o.stack},origin:x.SOURCE,status:L.error}})});return{stop:function(){r(),s.unsubscribe()}}}var hl=function(){function t(){this.callbacks={}}return t.prototype.notify=function(e,n){var r=this.callbacks[e];r&&r.forEach(function(s){return s(n)})},t.prototype.subscribe=function(e,n){var r=this;return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),{unsubscribe:function(){r.callbacks[e]=r.callbacks[e].filter(function(s){return n!==s})}}},t}();function pl(t,e,n,r){var s,o=ws(t,t.logsEndpointBuilder,n,r,(s=t.replica)===null||s===void 0?void 0:s.logsEndpointBuilder);e.subscribe(1,function(i){o.add(i)})}function ml(t){var e=In();t.subscribe(1,function(n){e.send("log",n)})}function gl(t){return{get:function(e){var n=t.findTrackedSession(e);if(n)return{session_id:n.id}}}}function vl(t,e,n,r){var s=new hl;s.subscribe(1,function(f){return hs("logs",f)});var o=function(f){return s.notify(0,{rawLogsEvent:{message:f.message,date:f.startClocks.timeStamp,error:{origin:x.AGENT},origin:x.AGENT,status:L.error}})},i=Cu(),c=El(e,o,i);c.setContextProvider(function(){var f,d,h,v,_,S;return{application:{id:(f=ht())===null||f===void 0?void 0:f.application_id},session:{id:(d=l.findTrackedSession())===null||d===void 0?void 0:d.id},view:{id:(v=(h=ht())===null||h===void 0?void 0:h.view)===null||v===void 0?void 0:v.id},action:{id:(S=(_=ht())===null||_===void 0?void 0:_.user_action)===null||S===void 0?void 0:S.id}}}),sl(e,s),dl(e,s),tl(e,s),rl(e,s);var a=Qu(s).handleLog,l=Na(e.cookieOptions)&&!_t()&&!As()?Wu(e):Xu(e);Ju(l,e,s,n,r,o),_t()?ml(s):pl(e,s,o,i),xc(Hu(t));var u=gl(l);return{handleLog:a,getInternalContext:u.get}}function El(t,e,n){var r,s=Pc("browser-logs-sdk",t);if(_t()){var o=In();s.observable.subscribe(function(c){return o.send("internal_telemetry",c)})}else{var i=ws(t,t.rumEndpointBuilder,e,n,(r=t.replica)===null||r===void 0?void 0:r.rumEndpointBuilder);s.observable.subscribe(function(c){return i.add(c,Mc(t))})}return s}var Ps=Ku(vl);Ic(En(),"DD_LOGS",Ps);class Ms{constructor(e){H(this,"env");this.env=e}setup(e){e.reports.enabled&&Ps.init({clientToken:"pub94a0029259f79f29a5d881a06d1e9653",site:"datadoghq.com",forwardErrorsToLogs:!0,service:this.env.var("KUMA_PRODUCT_NAME"),sampleRate:100,env:"production"})}}const yl=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var Ds=yl;const _l="2.0.0",Sl=256,bl=Number.MAX_SAFE_INTEGER||9007199254740991,Tl=16;var xs={SEMVER_SPEC_VERSION:_l,MAX_LENGTH:Sl,MAX_SAFE_INTEGER:bl,MAX_SAFE_COMPONENT_LENGTH:Tl},St={},Il={get exports(){return St},set exports(t){St=t}};(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n}=xs,r=Ds;e=t.exports={};const s=e.re=[],o=e.src=[],i=e.t={};let c=0;const a=(l,u,f)=>{const d=c++;r(l,d,u),i[l]=d,o[d]=u,s[d]=new RegExp(u,f?"g":void 0)};a("NUMERICIDENTIFIER","0|[1-9]\\d*"),a("NUMERICIDENTIFIERLOOSE","[0-9]+"),a("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),a("MAINVERSION",`(${o[i.NUMERICIDENTIFIER]})\\.(${o[i.NUMERICIDENTIFIER]})\\.(${o[i.NUMERICIDENTIFIER]})`),a("MAINVERSIONLOOSE",`(${o[i.NUMERICIDENTIFIERLOOSE]})\\.(${o[i.NUMERICIDENTIFIERLOOSE]})\\.(${o[i.NUMERICIDENTIFIERLOOSE]})`),a("PRERELEASEIDENTIFIER",`(?:${o[i.NUMERICIDENTIFIER]}|${o[i.NONNUMERICIDENTIFIER]})`),a("PRERELEASEIDENTIFIERLOOSE",`(?:${o[i.NUMERICIDENTIFIERLOOSE]}|${o[i.NONNUMERICIDENTIFIER]})`),a("PRERELEASE",`(?:-(${o[i.PRERELEASEIDENTIFIER]}(?:\\.${o[i.PRERELEASEIDENTIFIER]})*))`),a("PRERELEASELOOSE",`(?:-?(${o[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[i.PRERELEASEIDENTIFIERLOOSE]})*))`),a("BUILDIDENTIFIER","[0-9A-Za-z-]+"),a("BUILD",`(?:\\+(${o[i.BUILDIDENTIFIER]}(?:\\.${o[i.BUILDIDENTIFIER]})*))`),a("FULLPLAIN",`v?${o[i.MAINVERSION]}${o[i.PRERELEASE]}?${o[i.BUILD]}?`),a("FULL",`^${o[i.FULLPLAIN]}$`),a("LOOSEPLAIN",`[v=\\s]*${o[i.MAINVERSIONLOOSE]}${o[i.PRERELEASELOOSE]}?${o[i.BUILD]}?`),a("LOOSE",`^${o[i.LOOSEPLAIN]}$`),a("GTLT","((?:<|>)?=?)"),a("XRANGEIDENTIFIERLOOSE",`${o[i.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),a("XRANGEIDENTIFIER",`${o[i.NUMERICIDENTIFIER]}|x|X|\\*`),a("XRANGEPLAIN",`[v=\\s]*(${o[i.XRANGEIDENTIFIER]})(?:\\.(${o[i.XRANGEIDENTIFIER]})(?:\\.(${o[i.XRANGEIDENTIFIER]})(?:${o[i.PRERELEASE]})?${o[i.BUILD]}?)?)?`),a("XRANGEPLAINLOOSE",`[v=\\s]*(${o[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[i.XRANGEIDENTIFIERLOOSE]})(?:\\.(${o[i.XRANGEIDENTIFIERLOOSE]})(?:${o[i.PRERELEASELOOSE]})?${o[i.BUILD]}?)?)?`),a("XRANGE",`^${o[i.GTLT]}\\s*${o[i.XRANGEPLAIN]}$`),a("XRANGELOOSE",`^${o[i.GTLT]}\\s*${o[i.XRANGEPLAINLOOSE]}$`),a("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),a("COERCERTL",o[i.COERCE],!0),a("LONETILDE","(?:~>?)"),a("TILDETRIM",`(\\s*)${o[i.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",a("TILDE",`^${o[i.LONETILDE]}${o[i.XRANGEPLAIN]}$`),a("TILDELOOSE",`^${o[i.LONETILDE]}${o[i.XRANGEPLAINLOOSE]}$`),a("LONECARET","(?:\\^)"),a("CARETTRIM",`(\\s*)${o[i.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",a("CARET",`^${o[i.LONECARET]}${o[i.XRANGEPLAIN]}$`),a("CARETLOOSE",`^${o[i.LONECARET]}${o[i.XRANGEPLAINLOOSE]}$`),a("COMPARATORLOOSE",`^${o[i.GTLT]}\\s*(${o[i.LOOSEPLAIN]})$|^$`),a("COMPARATOR",`^${o[i.GTLT]}\\s*(${o[i.FULLPLAIN]})$|^$`),a("COMPARATORTRIM",`(\\s*)${o[i.GTLT]}\\s*(${o[i.LOOSEPLAIN]}|${o[i.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",a("HYPHENRANGE",`^\\s*(${o[i.XRANGEPLAIN]})\\s+-\\s+(${o[i.XRANGEPLAIN]})\\s*$`),a("HYPHENRANGELOOSE",`^\\s*(${o[i.XRANGEPLAINLOOSE]})\\s+-\\s+(${o[i.XRANGEPLAINLOOSE]})\\s*$`),a("STAR","(<|>)?=?\\s*\\*"),a("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),a("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Il,St);const Ol=["includePrerelease","loose","rtl"],Rl=t=>t?typeof t!="object"?{loose:!0}:Ol.filter(e=>t[e]).reduce((e,n)=>(e[n]=!0,e),{}):{};var Cl=Rl;const cr=/^[0-9]+$/,ks=(t,e)=>{const n=cr.test(t),r=cr.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},wl=(t,e)=>ks(e,t);var Al={compareIdentifiers:ks,rcompareIdentifiers:wl};const ct=Ds,{MAX_LENGTH:ur,MAX_SAFE_INTEGER:ut}=xs,{re:lr,t:fr}=St,Ll=Cl,{compareIdentifiers:_e}=Al;let Nl=class X{constructor(e,n){if(n=Ll(n),e instanceof X){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid Version: ${e}`);if(e.length>ur)throw new TypeError(`version is longer than ${ur} characters`);ct("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=e.trim().match(n.loose?lr[fr.LOOSE]:lr[fr.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>ut||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ut||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ut||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){const o=+s;if(o>=0&&o<ut)return o}return s}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(ct("SemVer.compare",this.version,this.options,e),!(e instanceof X)){if(typeof e=="string"&&e===this.version)return 0;e=new X(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof X||(e=new X(e,this.options)),_e(this.major,e.major)||_e(this.minor,e.minor)||_e(this.patch,e.patch)}comparePre(e){if(e instanceof X||(e=new X(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],s=e.prerelease[n];if(ct("prerelease compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return _e(r,s)}while(++n)}compareBuild(e){e instanceof X||(e=new X(e,this.options));let n=0;do{const r=this.build[n],s=e.build[n];if(ct("prerelease compare",n,r,s),r===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(r===void 0)return-1;if(r===s)continue;return _e(r,s)}while(++n)}inc(e,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n),this.inc("pre",n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n),this.inc("pre",n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let r=this.prerelease.length;for(;--r>=0;)typeof this.prerelease[r]=="number"&&(this.prerelease[r]++,r=-2);r===-1&&this.prerelease.push(0)}n&&(_e(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=[n,0]):this.prerelease=[n,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}};var Pl=Nl;const dr=Pl,Ml=(t,e,n)=>new dr(t,n).compare(new dr(e,n));var Wt=Ml;const gf="Kuma",vf=12,un=500,hr="Disabled",Ef="kuma.io/zone",Dl={status:null,tagline:null,version:null,kumaDocsVersion:"latest",clientConfig:null},xl={SET_CONFIG_DATA:(t,e)=>t.clientConfig=e,SET_STATUS:(t,e)=>t.status=e,SET_TAGLINE:(t,e)=>t.tagline=e,SET_VERSION:(t,e)=>t.version=e,SET_KUMA_DOCS_VERSION:(t,e)=>t.kumaDocsVersion=e},kl={getStatus:t=>t.status,getConfig:t=>t.clientConfig,getEnvironment:t=>{var e;return(e=t.clientConfig)==null?void 0:e.environment},getMode:t=>{var e;return(e=t.clientConfig)==null?void 0:e.mode},getTagline:t=>t.tagline,getVersion:t=>t.version,getKumaDocsVersion:t=>t.kumaDocsVersion,getConfigurationType:t=>{var e,n;return(n=(e=t.clientConfig)==null?void 0:e.store)==null?void 0:n.type},getMulticlusterStatus:(t,e)=>({}).VITE_FAKE_MULTIZONE==="true"?(console.warn("%c ✨You are currently faking Multi-Zone mode.","background: black; color: white; display: block; padding: 0.25rem;"),!0):e.getMode==="global"},Ul=t=>({bootstrapConfig({dispatch:e}){const n=e("getInfo"),r=e("getConfig");return Promise.all([n,r])},getConfig({commit:e}){return t.getConfig().then(n=>{e("SET_CONFIG_DATA",n)})},getStatus({commit:e}){return t.getStatus().then(n=>{e("SET_STATUS",n)})},getInfo({commit:e}){return t.getInfo().then(n=>{e("SET_TAGLINE",n.tagline),e("SET_VERSION",n.version);let r;const s=n.basedOnKuma??n.version,o=s.indexOf("-preview.");if(o!==-1){const i=s.substring(0,o);r=i==="0.0.0"?"dev":i.replace(/\.\d+$/,".x")}else r=s.replace(/\.\d+$/,".x");e("SET_KUMA_DOCS_VERSION",r)}).catch(n=>{console.error(n)})}}),$l=t=>({namespaced:!0,state:()=>Dl,getters:kl,mutations:xl,actions:Ul(t)}),Bl={isOpen:!1},Gl={OPEN_MODAL:t=>t.isOpen=!0,CLOSE_MODAL:t=>t.isOpen=!1},Fl={meshNotificationItemMap(t,e,n){var o;return(((o=n.meshes)==null?void 0:o.items)||[]).reduce((i,c)=>(i[c.name]={hasLogging:Boolean(c.logging),hasMtls:Boolean(c.mtls),hasMetrics:Boolean(c.metrics),hasTracing:Boolean(c.tracing)},i),{})},meshNotificationItemMapWithAction(t,e){const n=e.meshNotificationItemMap;return Object.entries(n).reduce((r,[s,o])=>(Object.values(o).some(c=>!c)&&(r[s]=o),r),{})},singleMeshNotificationItems(t,e,n,r){if(n.selectedMesh===null)return[];const s=e.meshNotificationItemMap[n.selectedMesh],o=Object.entries(r.getMeshInsight.policies).filter(([c,a])=>["MeshAccessLog","MeshTrace"].includes(c)).some(([c,a])=>a.total>0),i=[{name:"Observability, Metrics & Service Map",component:"MetricsNotification",isCompleted:s.hasMetrics},{name:"Logging",component:"LoggingNotification",isCompleted:s.hasLogging||o},{name:"Zero-trust security",component:"MtlsNotification",isCompleted:s.hasMtls},{name:"Tracing",component:"TracingNotification",isCompleted:s.hasTracing}];return i.sort((c,a)=>+c.isCompleted-+a.isCompleted),i},amountOfActions(t,e){return Object.keys(e.meshNotificationItemMapWithAction).length}},Vl={openModal({commit:t}){t("OPEN_MODAL")},closeModal({commit:t}){t("CLOSE_MODAL")}},Hl={namespaced:!0,state:()=>Bl,getters:Fl,mutations:Gl,actions:Vl},jl={isCompleted:J.get("onboardingIsCompleted")==="true",step:J.get("onboardingStep")||"onboarding-welcome",mode:"demo"},zl={SET_STEP:(t,e)=>t.step=e,SET_IS_COMPLETED:(t,e)=>t.isCompleted=e,UPDATE_MODE:(t,e)=>t.mode=e},Kl={completeOnboarding({commit:t,dispatch:e}){e("fetchDataplaneTotalCount",null,{root:!0}),e("sidebar/getInsights",null,{root:!0}),t("SET_IS_COMPLETED",!0),J.set("onboardingIsCompleted","true"),J.remove("onboardingStep")},changeStep({commit:t},e){t("SET_STEP",e),J.set("onboardingStep",e)},changeMode({commit:t},e){t("UPDATE_MODE",e)}},ql={namespaced:!0,state:()=>jl,mutations:zl,actions:Kl};function pr(t){const e=t.items.reduce((n,{dataplanes:r,dataplanesByType:s,policies:o,services:i})=>{var c,a;n.services.internal+=i.internal||0,n.services.external+=i.external||0,n.services.total+=i.total||0,n.dataplanes.total+=r.total||0,n.dataplanes.standard+=((c=s.standard)==null?void 0:c.total)||0,n.dataplanes.gateway+=((a=s.gateway)==null?void 0:a.total)||0;for(const[l,u]of Object.entries(o))n.policies[l]||(n.policies[l]=0),n.policies[l]+=u.total||0;return n},{services:{total:0,internal:0,external:0},dataplanes:{total:0,standard:0,gateway:0},policies:{}});return e.policies.total=Object.values(e.policies).reduce((n,r)=>n+r,0),e}function Wl(t){return Object.entries(t.resources).reduce((e,[n,r])=>(e[n]||(e[n]=0),e[n]+=r.total||0,e),{})}const Xl={insights:{global:{},mesh:{services:{total:0,internal:0,external:0},dataplanes:{total:0,standard:0,gateway:0},policies:{}}}},Yl={SET_GLOBAL_INSIGHTS:(t,e)=>t.insights.global=e,SET_MESH_INSIGHTS:(t,e)=>t.insights.mesh=e},Zl=t=>({getInsights({dispatch:e}){return Promise.all([e("getGlobalInsights"),e("getMeshInsights")])},async getMeshInsights({commit:e,rootState:n}){if(n.selectedMesh===null)return;let r;try{const s=await t.getMeshInsights({name:n.selectedMesh});r=pr({items:[s]})}catch{r=pr({items:[]})}e("SET_MESH_INSIGHTS",r)},async getGlobalInsights({commit:e}){const n=await t.getGlobalInsights(),r=Wl(n);e("SET_GLOBAL_INSIGHTS",r)}}),Ql=t=>({namespaced:!0,state:()=>Xl,mutations:Yl,actions:Zl(t)}),Us=(t={},e={})=>{const n=t.online||0,r=e.online||0,s=t.partiallyDegraded||0,o=e.partiallyDegraded||0,i=t.total||0,c=e.total||0;return{online:n+r,partiallyDegraded:s+o,total:i+c}},Jl=(t,e={})=>Object.entries(e).reduce((n,[r,s])=>{const o=n[r]?n[r].total:0;return{...n,[r]:{total:o+s.total}}},t),mr=(t={},e={})=>Object.entries(e).reduce((n,[r,s])=>({...n,[r]:Us(n[r],s)}),t),ef=(t={},e={})=>({kumaDp:mr(t.kumaDp,e.kumaDp),envoy:mr(t.envoy,e.envoy)});function $s(){return{meshesTotal:0,dataplanes:{online:0,partiallyDegraded:0,total:0},policies:{},dpVersions:{kumaDp:{},envoy:{}}}}function tf(t={}){return Bs([t])}function Bs(t=[]){return t.reduce((e,n)=>({meshesTotal:t.length,dataplanes:Us(e.dataplanes,n.dataplanes),policies:Jl(e.policies,n.policies),dpVersions:ef(e.dpVersions,n.dpVersions)}),{meshesTotal:0,dataplanes:{online:0,partiallyDegraded:0,total:0},policies:{},dpVersions:{kumaDp:{},envoy:{}}})}function Gs(t,e,n=void 0){if(typeof t!="object"||Array.isArray(t))return n;const r=e.indexOf(".");if(r===-1)return t[e]===void 0?n:t[e];const s=e.substring(0,r),o=e.substring(r+1);return Gs(t[s],o,n)}const nf=new Intl.DateTimeFormat("en-US",{dateStyle:"long"}),rf=new Intl.DateTimeFormat("en-US",{dateStyle:"long",timeStyle:"medium"});function sf(t){const e=new Date(Date.parse(t)),n=Math.floor((Date.now()-e.getTime())/1e3);return n<=1?"just now":n<20?`${n} seconds ago`:n<40?"half a minute ago":n<60?"less than a minute ago":n<=90?"one minute ago":n<=3540?`${Math.round(n/60)} minutes ago`:n<=5400?"1 hour ago":n<=86400?`${Math.round(n/3600)} hours ago`:n<=129600?"1 day ago":n<604800?`${Math.round(n/86400)} days ago`:n<=777600?"1 week ago":nf.format(e)}function yf(t){const e=new Date(Date.parse(t));return rf.format(e)}function _f(t,e){const n=t&&typeof t=="object"&&t.constructor===Array?Object.assign({},...t):t;return e.reduce((r,s)=>({...r,[s]:n[s]}),{})}function Sf(t){const{creationTime:e,modificationTime:n,...r}=t;return r}function bf(t){const e=t.replace(/[^a-zA-Z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();return t?e:""}async function lt(t){try{let e=null,n=0,r=[];for(;;){const s={size:un,offset:n},{total:o,items:i,next:c}=await t(s);if(Array.isArray(i)&&(r=r.concat(i)),e===null&&(e=o),o!==e)throw new Error('Mismatch between "total" values between requests');if(!c)break;n+=un}return{total:e,items:r}}catch(e){throw new Error(`Resource fetching failed: ${e}`)}}function Tf(t){var n;const e=((n=t.zoneInsight)==null?void 0:n.subscriptions)??[];if(e.length>0){const r=e[e.length-1];if(r.config){const s=JSON.parse(r.config);return Gs(s,"dpServer.auth.type",hr)}}return hr}function If(t){let e=[];t.networking.inbound&&(e=t.networking.inbound.filter(r=>"tags"in r).flatMap(r=>Object.entries(r.tags)).map(([r,s])=>`${r}=${s}`)),t.networking.gateway&&(e=Object.entries(t.networking.gateway.tags).map(([r,s])=>`${r}=${s}`));const n=Array.from(new Set(e));return n.sort((r,s)=>r.localeCompare(s)),n.map(r=>r.split("=")).map(([r,s])=>({label:r,value:s}))}function Fs(t={subscriptions:[]}){return(t.subscriptions??[]).some(n=>{var r;return((r=n.connectTime)==null?void 0:r.length)&&!n.disconnectTime})?"online":"offline"}function Of(t,e={subscriptions:[]}){const n=t.networking.inbound??[],r=n.filter(o=>o.health&&!o.health.ready).map(o=>`Inbound on port ${o.port} is not ready (kuma.io/service: ${o.tags["kuma.io/service"]})`);let s;switch(!0){case n.length===0:s="online";break;case r.length===n.length:s="offline";break;case r.length>0:s="partially_degraded";break;default:s=Fs(e)}return{status:s,reason:r}}function Rf(t){if(t===void 0||t.subscriptions.length===0)return null;const e={},n=t.subscriptions[t.subscriptions.length-1];return n.version===void 0?null:(n.version.envoy&&(e.envoy=n.version.envoy.version),n.version.kumaDp&&(e.kumaDp=n.version.kumaDp.version),n.version.dependencies&&Object.entries(n.version.dependencies).forEach(([r,s])=>{e[r]=s}),e)}function Cf(t){if(t.dataplaneInsight===void 0||t.dataplaneInsight.mTLS===void 0)return null;const{mTLS:e}=t.dataplaneInsight,n=new Date(e.certificateExpirationTime),r=new Date(n.getTime()+n.getTimezoneOffset()*6e4);return{certificateExpirationTime:{label:"Expiration Time",value:`${r.toLocaleDateString("en-US")} ${r.getHours()}:${r.getMinutes()}:${r.getSeconds()}`},lastCertificateRegeneration:{label:"Last Generated",value:sf(e.lastCertificateRegeneration)},certificateRegenerations:{label:"Regenerations",value:e.certificateRegenerations}}}function wf(t){var r,s;return((r=t.kumaDp)==null?void 0:r.kumaCpCompatible)??!0?((s=t.envoy)==null?void 0:s.kumaDpCompatible)??!0?{kind:of}:{kind:cf,payload:{envoy:t.envoy.version,kumaDp:t.kumaDp.version}}:{kind:af,payload:{kumaDp:t.kumaDp.version}}}const of="COMPATIBLE",Af="INCOMPATIBLE_ZONE_CP_AND_KUMA_DP_VERSIONS",Lf="INCOMPATIBLE_ZONE_AND_GLOBAL_CPS_VERSIONS",af="INCOMPATIBLE_UNSUPPORTED_KUMA_DP",cf="INCOMPATIBLE_UNSUPPORTED_ENVOY",Nf="INCOMPATIBLE_WRONG_FORMAT",gr="Online",vr="Offline",uf="Partially degraded",lf={menu:null,globalLoading:!0,pageTitle:"",meshes:{total:0,items:[],next:null},selectedMesh:"default",totalDataplaneCount:0,version:"",itemQueryNamespace:"item",totalClusters:0,serviceSummary:{total:0,internal:{total:0,online:0,offline:0,partiallyDegraded:0},external:{total:0}},overviewCharts:{dataplanes:{data:[]},meshes:{data:[]},services:{data:[]},policies:{data:[]},zones:{data:[]},zonesCPVersions:{data:[]},kumaDPVersions:{data:[]},envoyVersions:{data:[]}},meshInsight:$s(),meshInsightsFetching:!1,serviceInsightsFetching:!1,externalServicesFetching:!1,zonesInsightsFetching:!1,policyTypes:[],policyTypesByPath:{},policyTypesByName:{}},Vs=t=>({modules:{sidebar:Ql(t),config:$l(t),notifications:Hl,onboarding:ql},state:()=>lf,getters:{globalLoading:e=>e.globalLoading,getMeshList:e=>e.meshes,getItemQueryNamespace:e=>e.itemQueryNamespace,getMeshInsight:e=>e.meshInsight,getMeshInsightsFetching:e=>e.meshInsightsFetching,getServiceInsightsFetching:e=>e.serviceInsightsFetching,getExternalServicesFetching:e=>e.externalServicesFetching,getResourceFetching:({meshInsightsFetching:e,serviceInsightsFetching:n,externalServicesFetching:r})=>e||n||r,getServiceResourcesFetching:({serviceInsightsFetching:e,externalServicesFetching:n})=>e||n,getZonesInsightsFetching:({zonesInsightsFetching:e})=>e,getChart:e=>(n,{title:r,subtitle:s=void 0,showTotal:o=!1,isStatusChart:i=!1})=>({title:r,subtitle:s,showTotal:o,isStatusChart:i,dataPoints:e.overviewCharts[n].data}),shouldSuggestOnboarding:e=>{const n=e.meshes.items.length===1&&e.meshes.items[0].name==="default";return e.totalDataplaneCount===0&&n}},mutations:{SET_GLOBAL_LOADING:(e,n)=>e.globalLoading=n,SET_PAGE_TITLE:(e,n)=>e.pageTitle=n,SET_MESHES:(e,n)=>e.meshes=n,SET_SELECTED_MESH:(e,n)=>e.selectedMesh=n,SET_TOTAL_DATAPLANE_COUNT:(e,n)=>e.totalDataplaneCount=n,SET_TOTAL_CLUSTER_COUNT:(e,n)=>e.totalClusters=n,SET_INTERNAL_SERVICE_SUMMARY:(e,{items:n=[]})=>{const r={online:0,partially_degraded:0,offline:0,not_available:0},{online:s,offline:o,partially_degraded:i}=n.reduce((a,{status:l="offline"})=>({...a,[l]:a[l]+1}),r),c=s+o+i;e.serviceSummary.internal={...e.serviceSummary.internal,total:c,online:s,partiallyDegraded:i,offline:o},e.serviceSummary.total=e.serviceSummary.external.total+c},SET_EXTERNAL_SERVICE_SUMMARY:(e,{total:n=0})=>{e.serviceSummary.external.total=n,e.serviceSummary.total=e.serviceSummary.internal.total+n},SET_MESH_INSIGHT:(e,n)=>e.meshInsight=tf(n),SET_MESH_INSIGHT_FROM_ALL_MESHES:(e,n)=>e.meshInsight=Bs(n.items),SET_ZONES_INSIGHTS_FETCHING:(e,n)=>e.zonesInsightsFetching=n,SET_MESH_INSIGHTS_FETCHING:(e,n)=>e.meshInsightsFetching=n,SET_SERVICE_INSIGHTS_FETCHING:(e,n)=>e.serviceInsightsFetching=n,SET_EXTERNAL_SERVICES_FETCHING:(e,n)=>e.externalServicesFetching=n,SET_OVERVIEW_CHART_DATA:(e,{chartName:n,data:r})=>{e.overviewCharts[n].data=r},SET_POLICY_TYPES:(e,n)=>{n.sort((r,s)=>r.name.localeCompare(s.name)),e.policyTypes=n},SET_POLICY_TYPES_BY_PATH:(e,n)=>e.policyTypesByPath=n,SET_POLICY_TYPES_BY_NAME:(e,n)=>e.policyTypesByName=n},actions:{updateGlobalLoading({commit:e},n){e("SET_GLOBAL_LOADING",n)},async bootstrap({dispatch:e,getters:n,state:r}){if(await e("config/getStatus"),n["config/getStatus"]==="OK")if(await Promise.all([e("fetchMeshList"),e("fetchDataplaneTotalCount"),e("config/bootstrapConfig")]),r.meshes.items.length>0){const s=J.get("selectedMesh");let o;if(s!==null){const i=r.meshes.items.find(c=>c.name===s);i!==void 0&&(o=i)}o===void 0&&(o=r.meshes.items[0]),await e("updateSelectedMesh",o.name),await e("sidebar/getInsights")}else await e("updateSelectedMesh",null)},updatePageTitle({commit:e},n){e("SET_PAGE_TITLE",n)},async fetchMeshList({commit:e,state:n}){const r={size:un};try{const{total:s,items:o,next:i}=await t.getAllMeshes(r),c={items:o??[],total:s,next:i};c.items.sort((a,l)=>a.name==="default"?-1:l.name==="default"?1:a.name.localeCompare(l.name)),e("SET_MESHES",c)}catch(s){console.error(s)}},updateSelectedMesh({commit:e},n){n!==null?J.set("selectedMesh",n):J.remove("selectedMesh"),e("SET_SELECTED_MESH",n)},async fetchTotalClusterCount({commit:e}){const n=await t.getZones();e("SET_TOTAL_CLUSTER_COUNT",n.total)},async fetchDataplaneTotalCount({commit:e}){try{const n=await t.getAllDataplanes({size:1});e("SET_TOTAL_DATAPLANE_COUNT",n.total)}catch(n){console.error(n)}},async fetchMeshInsights({commit:e,dispatch:n},r){e("SET_MESH_INSIGHTS_FETCHING",!0);try{if(r===void 0){const s=await lt(t.getAllMeshInsights.bind(t)),o=[];s.items.length>0&&o.push({title:"Mesh",data:s.items.length}),e("SET_OVERVIEW_CHART_DATA",{chartName:"meshes",data:o}),e("SET_MESH_INSIGHT_FROM_ALL_MESHES",s)}else e("SET_MESH_INSIGHT",await t.getMeshInsights({name:r}))}catch{e("SET_OVERVIEW_CHART_DATA",{chartName:"meshes",data:[]}),e("SET_MESH_INSIGHT",$s())}finally{n("setChartsFromMeshInsights")}e("SET_MESH_INSIGHTS_FETCHING",!1)},async fetchServiceInsights({commit:e},n){e("SET_SERVICE_INSIGHTS_FETCHING",!0);try{const r=n===void 0?t.getAllServiceInsights.bind(t):t.getAllServiceInsightsFromMesh.bind(t,{mesh:n});e("SET_INTERNAL_SERVICE_SUMMARY",await lt(r))}catch{e("SET_INTERNAL_SERVICE_SUMMARY")}e("SET_SERVICE_INSIGHTS_FETCHING",!1)},async fetchExternalServices({commit:e},n){e("SET_EXTERNAL_SERVICES_FETCHING",!0);try{const r=n===void 0?t.getAllExternalServices.bind(t):t.getAllExternalServicesFromMesh.bind(t,{mesh:n});e("SET_EXTERNAL_SERVICE_SUMMARY",await lt(r))}catch{e("SET_EXTERNAL_SERVICE_SUMMARY")}e("SET_EXTERNAL_SERVICES_FETCHING",!1)},async fetchServices({dispatch:e},n){const r=e("fetchExternalServices",n),s=e("fetchServiceInsights",n);await Promise.all([s,r]),await e("setOverviewServicesChartData")},async fetchZonesInsights({commit:e,dispatch:n,getters:r},s=!1){e("SET_ZONES_INSIGHTS_FETCHING",!0);try{if(s){const o=await lt(t.getAllZoneOverviews.bind(t));n("setOverviewZonesChartData",o),n("setOverviewZonesCPVersionsChartData",o)}else{const o=[{title:"Zone",data:1,route:{name:"zones"}}],i=[{title:r["config/getVersion"],data:1,route:{name:"zones"}}];e("SET_OVERVIEW_CHART_DATA",{chartName:"zones",data:o}),e("SET_OVERVIEW_CHART_DATA",{chartName:"zonesCPVersions",data:i})}}catch{e("SET_OVERVIEW_CHART_DATA",{chartName:"zones",data:[]}),e("SET_OVERVIEW_CHART_DATA",{chartName:"zonesCPVersions",data:[]})}e("SET_ZONES_INSIGHTS_FETCHING",!1)},async fetchPolicyTypes({commit:e}){const{policies:n}=await t.getPolicyTypes(),r=n.reduce((o,i)=>Object.assign(o,{[i.path]:i}),{}),s=n.reduce((o,i)=>Object.assign(o,{[i.name]:i}),{});e("SET_POLICY_TYPES",n),e("SET_POLICY_TYPES_BY_PATH",r),e("SET_POLICY_TYPES_BY_NAME",s)},setChartsFromMeshInsights({dispatch:e}){e("setOverviewDataplanesChartData"),e("setOverviewKumaDPVersionsChartData"),e("setOverviewEnvoyVersionsChartData")},setOverviewZonesChartData({commit:e},{items:n=[]}){const r=n.length;let s=0;n.forEach(i=>{Fs(i.zoneInsight)==="online"&&s++});const o=[];r&&(o.push({title:gr,data:s,route:{name:"zones"}}),s!==r&&o.push({title:vr,data:r-s,route:{name:"zones"}})),e("SET_OVERVIEW_CHART_DATA",{chartName:"zones",data:o})},setOverviewServicesChartData({state:e,commit:n}){const{internal:r,external:s}=e.serviceSummary,o=[];r.total&&e.selectedMesh!==null&&o.push({title:"Internal",data:r.total,route:{name:"service-list-view",params:{mesh:e.selectedMesh}}}),s.total&&e.selectedMesh!==null&&o.push({title:"External",data:s.total,route:{name:"service-list-view",params:{mesh:e.selectedMesh}}}),n("SET_OVERVIEW_CHART_DATA",{chartName:"services",data:o})},setOverviewDataplanesChartData({state:e,commit:n}){const r=e.meshInsight.dataplanes.total,s=[];if(r>0){const o=e.meshInsight.dataplanes.online??0;s.push({title:gr,data:o});const i=e.meshInsight.dataplanes.partiallyDegraded??0;i>0&&s.push({title:uf,data:i});const c=r-i-o;c>0&&s.push({title:vr,data:c})}n("SET_OVERVIEW_CHART_DATA",{chartName:"dataplanes",data:s})},setOverviewZonesCPVersionsChartData({commit:e},{items:n}){const r=n.reduce((s,o)=>{var l;const i=((l=o.zoneInsight)==null?void 0:l.subscriptions)??[];if(i.length===0)return s;const c=i.pop(),a=s.find(u=>{var f,d;return u.title===((d=(f=c.version)==null?void 0:f.kumaCp)==null?void 0:d.version)});return a?a.data++:s.push({title:c.version.kumaCp.version,data:1,route:{name:"zones"}}),s},[]);r.sort((s,o)=>s.title==="unknown"?1:o.title==="unknown"?-1:Wt(s.title,o.title)),e("SET_OVERVIEW_CHART_DATA",{chartName:"zonesCPVersions",data:r})},setOverviewEnvoyVersionsChartData({state:e,commit:n}){const{envoy:r}=e.meshInsight.dpVersions,s=Object.entries(r).map(([o,i])=>({title:o,data:i.total}));s.sort((o,i)=>o.title==="unknown"?1:i.title==="unknown"?-1:Wt(o.title,i.title)),n("SET_OVERVIEW_CHART_DATA",{chartName:"envoyVersions",data:s})},setOverviewKumaDPVersionsChartData({state:e,commit:n}){const{kumaDp:r}=e.meshInsight.dpVersions,s=Object.entries(r).map(([o,i])=>({title:o,data:i.total}));s.sort((o,i)=>o.title==="unknown"?1:i.title==="unknown"?-1:Wt(o.title,i.title)),n("SET_OVERVIEW_CHART_DATA",{chartName:"kumaDPVersions",data:s})}}}),G={EnvVars:Li({KUMA_PRODUCT_NAME:"Kuma",KUMA_FEEDBACK_URL:"https://github.com/kumahq/kuma/issues/new/choose",KUMA_CHAT_URL:"https://kuma-mesh.slack.com",KUMA_INSTALL_URL:"https://kuma.io/install/latest/",KUMA_VERSION_URL:"https://kuma.io/latest_version/",KUMA_DOCS_URL:"https://kuma.io/docs",KUMA_MOCK_API_ENABLED:{}.VITE_MOCK_API_ENABLED},{description:"EnvVars"}),Env:W(Yr,{description:"Env"}),env:W(()=>t=>xr(G.Env).var(t),{description:"env"}),api:W(Zr,{description:"api"}),storeConfig:W(Vs,{description:"storeConfig"}),store:W(Kr,{description:"store"}),nav:W(()=>(t,e)=>Qi(t,e),{description:"nav"}),routes:W(Xr,{description:"routes"}),logger:W(Ms,{description:"logger"}),app:W(qr,{description:"app"}),bootstrap:W(Wr,{description:"bootstrap"})};se(Yr,G.EnvVars);se(Zr,G.Env);se(Vs,G.api);se(Kr,G.storeConfig);se(Xr,G.store);se(Ms,G.Env);se(qr,G.env,G.routes,G.store);se(Wr,G.env,G.logger,G.api,G.store);export{oa as A,J as C,Lf as I,Ef as K,gf as P,G as T,C as _,hf as a,Gs as b,mf as c,Ps as d,Fs as e,lt as f,xr as g,_f as h,Tf as i,vf as j,sf as k,Af as l,af as m,cf as n,Sf as o,If as p,Of as q,yf as r,W as s,Rf as t,pf as u,wf as v,of as w,Nf as x,Cf as y,bf as z};
